(self.webpackChunkforesight_cdss=self.webpackChunkforesight_cdss||[]).push([[16],{"./node_modules/.pnpm/@radix-ui+primitive@1.1.2/node_modules/@radix-ui/primitive/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function composeEventHandlers(originalEventHandler,ourEventHandler,{checkForDefaultPrevented=!0}={}){return function handleEvent(event){if(originalEventHandler?.(event),!1===checkForDefaultPrevented||!event.defaultPrevented)return ourEventHandler?.(event)}}__webpack_require__.d(__webpack_exports__,{m:()=>composeEventHandlers})},"./node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-compose-refs/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>useComposedRefs,t:()=>composeRefs});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js");function setRef(ref,value){if("function"==typeof ref)return ref(value);null!=ref&&(ref.current=value)}function composeRefs(...refs){return node=>{let hasCleanup=!1;const cleanups=refs.map((ref=>{const cleanup=setRef(ref,node);return hasCleanup||"function"!=typeof cleanup||(hasCleanup=!0),cleanup}));if(hasCleanup)return()=>{for(let i=0;i<cleanups.length;i++){const cleanup=cleanups[i];"function"==typeof cleanup?cleanup():setRef(refs[i],null)}}}}function useComposedRefs(...refs){return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(composeRefs(...refs),refs)}},"./node_modules/.pnpm/@radix-ui+react-context@1.1.2_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-context/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>createContextScope});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js");function createContextScope(scopeName,createContextScopeDeps=[]){let defaultContexts=[];const createScope=()=>{const scopeContexts=defaultContexts.map((defaultContext=>react__WEBPACK_IMPORTED_MODULE_0__.createContext(defaultContext)));return function useScope(scope){const contexts=scope?.[scopeName]||scopeContexts;return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({[`__scope${scopeName}`]:{...scope,[scopeName]:contexts}})),[scope,contexts])}};return createScope.scopeName=scopeName,[function createContext3(rootComponentName,defaultContext){const BaseContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(defaultContext),index=defaultContexts.length;defaultContexts=[...defaultContexts,defaultContext];const Provider=props=>{const{scope,children,...context}=props,Context=scope?.[scopeName]?.[index]||BaseContext,value=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>context),Object.values(context));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Context.Provider,{value,children})};return Provider.displayName=rootComponentName+"Provider",[Provider,function useContext2(consumerName,scope){const Context=scope?.[scopeName]?.[index]||BaseContext,context=react__WEBPACK_IMPORTED_MODULE_0__.useContext(Context);if(context)return context;if(void 0!==defaultContext)return defaultContext;throw new Error(`\`${consumerName}\` must be used within \`${rootComponentName}\``)}]},composeContextScopes(createScope,...createContextScopeDeps)]}function composeContextScopes(...scopes){const baseScope=scopes[0];if(1===scopes.length)return baseScope;const createScope=()=>{const scopeHooks=scopes.map((createScope2=>({useScope:createScope2(),scopeName:createScope2.scopeName})));return function useComposedScopes(overrideScopes){const nextScopes=scopeHooks.reduce(((nextScopes2,{useScope,scopeName})=>({...nextScopes2,...useScope(overrideScopes)[`__scope${scopeName}`]})),{});return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({[`__scope${baseScope.scopeName}`]:nextScopes})),[nextScopes])}};return createScope.scopeName=baseScope.scopeName,createScope}},"./node_modules/.pnpm/@radix-ui+react-dismissable-layer@1.1.7_@types+react-dom@19.1.2_@types+react@19.1.2__@t_1a5c0df20643f8e9832f787b3d4e52d7/node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qW:()=>DismissableLayer});var react=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+primitive@1.1.2/node_modules/@radix-ui/primitive/dist/index.mjs"),react_primitive_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-primitive@2.1.0_@types+react-dom@19.1.2_@types+react@19.1.2__@types+rea_56c95403134da8494df5342ba255a4c7/node_modules/@radix-ui/react-primitive/dist/index.mjs"),react_compose_refs_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),react_use_callback_ref_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-callback-ref@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs");var originalBodyPointerEvents,jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),DismissableLayerContext=react.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=react.forwardRef(((props,forwardedRef)=>{const{disableOutsidePointerEvents=!1,onEscapeKeyDown,onPointerDownOutside,onFocusOutside,onInteractOutside,onDismiss,...layerProps}=props,context=react.useContext(DismissableLayerContext),[node,setNode]=react.useState(null),ownerDocument=node?.ownerDocument??globalThis?.document,[,force]=react.useState({}),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,(node2=>setNode(node2))),layers=Array.from(context.layers),[highestLayerWithOutsidePointerEventsDisabled]=[...context.layersWithOutsidePointerEventsDisabled].slice(-1),highestLayerWithOutsidePointerEventsDisabledIndex=layers.indexOf(highestLayerWithOutsidePointerEventsDisabled),index=node?layers.indexOf(node):-1,isBodyPointerEventsDisabled=context.layersWithOutsidePointerEventsDisabled.size>0,isPointerEventsEnabled=index>=highestLayerWithOutsidePointerEventsDisabledIndex,pointerDownOutside=function usePointerDownOutside(onPointerDownOutside,ownerDocument=globalThis?.document){const handlePointerDownOutside=(0,react_use_callback_ref_dist.c)(onPointerDownOutside),isPointerInsideReactTreeRef=react.useRef(!1),handleClickRef=react.useRef((()=>{}));return react.useEffect((()=>{const handlePointerDown=event=>{if(event.target&&!isPointerInsideReactTreeRef.current){let handleAndDispatchPointerDownOutsideEvent2=function(){handleAndDispatchCustomEvent("dismissableLayer.pointerDownOutside",handlePointerDownOutside,eventDetail,{discrete:!0})};const eventDetail={originalEvent:event};"touch"===event.pointerType?(ownerDocument.removeEventListener("click",handleClickRef.current),handleClickRef.current=handleAndDispatchPointerDownOutsideEvent2,ownerDocument.addEventListener("click",handleClickRef.current,{once:!0})):handleAndDispatchPointerDownOutsideEvent2()}else ownerDocument.removeEventListener("click",handleClickRef.current);isPointerInsideReactTreeRef.current=!1},timerId=window.setTimeout((()=>{ownerDocument.addEventListener("pointerdown",handlePointerDown)}),0);return()=>{window.clearTimeout(timerId),ownerDocument.removeEventListener("pointerdown",handlePointerDown),ownerDocument.removeEventListener("click",handleClickRef.current)}}),[ownerDocument,handlePointerDownOutside]),{onPointerDownCapture:()=>isPointerInsideReactTreeRef.current=!0}}((event=>{const target=event.target,isPointerDownOnBranch=[...context.branches].some((branch=>branch.contains(target)));isPointerEventsEnabled&&!isPointerDownOnBranch&&(onPointerDownOutside?.(event),onInteractOutside?.(event),event.defaultPrevented||onDismiss?.())}),ownerDocument),focusOutside=function useFocusOutside(onFocusOutside,ownerDocument=globalThis?.document){const handleFocusOutside=(0,react_use_callback_ref_dist.c)(onFocusOutside),isFocusInsideReactTreeRef=react.useRef(!1);return react.useEffect((()=>{const handleFocus=event=>{if(event.target&&!isFocusInsideReactTreeRef.current){handleAndDispatchCustomEvent("dismissableLayer.focusOutside",handleFocusOutside,{originalEvent:event},{discrete:!1})}};return ownerDocument.addEventListener("focusin",handleFocus),()=>ownerDocument.removeEventListener("focusin",handleFocus)}),[ownerDocument,handleFocusOutside]),{onFocusCapture:()=>isFocusInsideReactTreeRef.current=!0,onBlurCapture:()=>isFocusInsideReactTreeRef.current=!1}}((event=>{const target=event.target;[...context.branches].some((branch=>branch.contains(target)))||(onFocusOutside?.(event),onInteractOutside?.(event),event.defaultPrevented||onDismiss?.())}),ownerDocument);return function useEscapeKeydown(onEscapeKeyDownProp,ownerDocument=globalThis?.document){const onEscapeKeyDown=(0,react_use_callback_ref_dist.c)(onEscapeKeyDownProp);react.useEffect((()=>{const handleKeyDown=event=>{"Escape"===event.key&&onEscapeKeyDown(event)};return ownerDocument.addEventListener("keydown",handleKeyDown,{capture:!0}),()=>ownerDocument.removeEventListener("keydown",handleKeyDown,{capture:!0})}),[onEscapeKeyDown,ownerDocument])}((event=>{index===context.layers.size-1&&(onEscapeKeyDown?.(event),!event.defaultPrevented&&onDismiss&&(event.preventDefault(),onDismiss()))}),ownerDocument),react.useEffect((()=>{if(node)return disableOutsidePointerEvents&&(0===context.layersWithOutsidePointerEventsDisabled.size&&(originalBodyPointerEvents=ownerDocument.body.style.pointerEvents,ownerDocument.body.style.pointerEvents="none"),context.layersWithOutsidePointerEventsDisabled.add(node)),context.layers.add(node),dispatchUpdate(),()=>{disableOutsidePointerEvents&&1===context.layersWithOutsidePointerEventsDisabled.size&&(ownerDocument.body.style.pointerEvents=originalBodyPointerEvents)}}),[node,ownerDocument,disableOutsidePointerEvents,context]),react.useEffect((()=>()=>{node&&(context.layers.delete(node),context.layersWithOutsidePointerEventsDisabled.delete(node),dispatchUpdate())}),[node,context]),react.useEffect((()=>{const handleUpdate=()=>force({});return document.addEventListener("dismissableLayer.update",handleUpdate),()=>document.removeEventListener("dismissableLayer.update",handleUpdate)}),[]),(0,jsx_runtime.jsx)(react_primitive_dist.sG.div,{...layerProps,ref:composedRefs,style:{pointerEvents:isBodyPointerEventsDisabled?isPointerEventsEnabled?"auto":"none":void 0,...props.style},onFocusCapture:(0,dist.m)(props.onFocusCapture,focusOutside.onFocusCapture),onBlurCapture:(0,dist.m)(props.onBlurCapture,focusOutside.onBlurCapture),onPointerDownCapture:(0,dist.m)(props.onPointerDownCapture,pointerDownOutside.onPointerDownCapture)})}));DismissableLayer.displayName="DismissableLayer";var DismissableLayerBranch=react.forwardRef(((props,forwardedRef)=>{const context=react.useContext(DismissableLayerContext),ref=react.useRef(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,ref);return react.useEffect((()=>{const node=ref.current;if(node)return context.branches.add(node),()=>{context.branches.delete(node)}}),[context.branches]),(0,jsx_runtime.jsx)(react_primitive_dist.sG.div,{...props,ref:composedRefs})}));function dispatchUpdate(){const event=new CustomEvent("dismissableLayer.update");document.dispatchEvent(event)}function handleAndDispatchCustomEvent(name,handler,detail,{discrete}){const target=detail.originalEvent.target,event=new CustomEvent(name,{bubbles:!1,cancelable:!0,detail});handler&&target.addEventListener(name,handler,{once:!0}),discrete?(0,react_primitive_dist.hO)(target,event):target.dispatchEvent(event)}DismissableLayerBranch.displayName="DismissableLayerBranch"},"./node_modules/.pnpm/@radix-ui+react-id@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-id/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var react__WEBPACK_IMPORTED_MODULE_0___namespace_cache;__webpack_require__.d(__webpack_exports__,{B:()=>useId});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-layout-effect@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs"),useReactId=(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2)))[" useId ".trim().toString()]||(()=>{}),count=0;function useId(deterministicId){const[id,setId]=react__WEBPACK_IMPORTED_MODULE_0__.useState(useReactId());return(0,_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_1__.N)((()=>{deterministicId||setId((reactId=>reactId??String(count++)))}),[deterministicId]),deterministicId||(id?`radix-${id}`:"")}},"./node_modules/.pnpm/@radix-ui+react-popper@1.2.4_@types+react-dom@19.1.2_@types+react@19.1.2__@types+react@_a128a11ffd1ff70497f383aa72d4b599/node_modules/@radix-ui/react-popper/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Mz:()=>Anchor,i3:()=>dist_Arrow,UC:()=>Content,bL:()=>Root2,Bk:()=>createPopperScope});var react=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js");const sides=["top","right","bottom","left"],floating_ui_utils_min=Math.min,floating_ui_utils_max=Math.max,round=Math.round,floor=Math.floor,createCoords=v=>({x:v,y:v}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(start,value,end){return floating_ui_utils_max(start,floating_ui_utils_min(value,end))}function floating_ui_utils_evaluate(value,param){return"function"==typeof value?value(param):value}function floating_ui_utils_getSide(placement){return placement.split("-")[0]}function floating_ui_utils_getAlignment(placement){return placement.split("-")[1]}function getOppositeAxis(axis){return"x"===axis?"y":"x"}function getAxisLength(axis){return"y"===axis?"height":"width"}function floating_ui_utils_getSideAxis(placement){return["top","bottom"].includes(floating_ui_utils_getSide(placement))?"y":"x"}function getAlignmentAxis(placement){return getOppositeAxis(floating_ui_utils_getSideAxis(placement))}function floating_ui_utils_getOppositeAlignmentPlacement(placement){return placement.replace(/start|end/g,(alignment=>oppositeAlignmentMap[alignment]))}function getOppositePlacement(placement){return placement.replace(/left|right|bottom|top/g,(side=>oppositeSideMap[side]))}function floating_ui_utils_getPaddingObject(padding){return"number"!=typeof padding?function expandPaddingObject(padding){return{top:0,right:0,bottom:0,left:0,...padding}}(padding):{top:padding,right:padding,bottom:padding,left:padding}}function floating_ui_utils_rectToClientRect(rect){const{x,y,width,height}=rect;return{width,height,top:y,left:x,right:x+width,bottom:y+height,x,y}}function computeCoordsFromPlacement(_ref,placement,rtl){let{reference,floating}=_ref;const sideAxis=floating_ui_utils_getSideAxis(placement),alignmentAxis=getAlignmentAxis(placement),alignLength=getAxisLength(alignmentAxis),side=floating_ui_utils_getSide(placement),isVertical="y"===sideAxis,commonX=reference.x+reference.width/2-floating.width/2,commonY=reference.y+reference.height/2-floating.height/2,commonAlign=reference[alignLength]/2-floating[alignLength]/2;let coords;switch(side){case"top":coords={x:commonX,y:reference.y-floating.height};break;case"bottom":coords={x:commonX,y:reference.y+reference.height};break;case"right":coords={x:reference.x+reference.width,y:commonY};break;case"left":coords={x:reference.x-floating.width,y:commonY};break;default:coords={x:reference.x,y:reference.y}}switch(floating_ui_utils_getAlignment(placement)){case"start":coords[alignmentAxis]-=commonAlign*(rtl&&isVertical?-1:1);break;case"end":coords[alignmentAxis]+=commonAlign*(rtl&&isVertical?-1:1)}return coords}async function detectOverflow(state,options){var _await$platform$isEle;void 0===options&&(options={});const{x,y,platform,rects,elements,strategy}=state,{boundary="clippingAncestors",rootBoundary="viewport",elementContext="floating",altBoundary=!1,padding=0}=floating_ui_utils_evaluate(options,state),paddingObject=floating_ui_utils_getPaddingObject(padding),element=elements[altBoundary?"floating"===elementContext?"reference":"floating":elementContext],clippingClientRect=floating_ui_utils_rectToClientRect(await platform.getClippingRect({element:null==(_await$platform$isEle=await(null==platform.isElement?void 0:platform.isElement(element)))||_await$platform$isEle?element:element.contextElement||await(null==platform.getDocumentElement?void 0:platform.getDocumentElement(elements.floating)),boundary,rootBoundary,strategy})),rect="floating"===elementContext?{x,y,width:rects.floating.width,height:rects.floating.height}:rects.reference,offsetParent=await(null==platform.getOffsetParent?void 0:platform.getOffsetParent(elements.floating)),offsetScale=await(null==platform.isElement?void 0:platform.isElement(offsetParent))&&await(null==platform.getScale?void 0:platform.getScale(offsetParent))||{x:1,y:1},elementClientRect=floating_ui_utils_rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect?await platform.convertOffsetParentRelativeRectToViewportRelativeRect({elements,rect,offsetParent,strategy}):rect);return{top:(clippingClientRect.top-elementClientRect.top+paddingObject.top)/offsetScale.y,bottom:(elementClientRect.bottom-clippingClientRect.bottom+paddingObject.bottom)/offsetScale.y,left:(clippingClientRect.left-elementClientRect.left+paddingObject.left)/offsetScale.x,right:(elementClientRect.right-clippingClientRect.right+paddingObject.right)/offsetScale.x}}function getSideOffsets(overflow,rect){return{top:overflow.top-rect.height,right:overflow.right-rect.width,bottom:overflow.bottom-rect.height,left:overflow.left-rect.width}}function isAnySideFullyClipped(overflow){return sides.some((side=>overflow[side]>=0))}function hasWindow(){return"undefined"!=typeof window}function getNodeName(node){return isNode(node)?(node.nodeName||"").toLowerCase():"#document"}function getWindow(node){var _node$ownerDocument;return(null==node||null==(_node$ownerDocument=node.ownerDocument)?void 0:_node$ownerDocument.defaultView)||window}function getDocumentElement(node){var _ref;return null==(_ref=(isNode(node)?node.ownerDocument:node.document)||window.document)?void 0:_ref.documentElement}function isNode(value){return!!hasWindow()&&(value instanceof Node||value instanceof getWindow(value).Node)}function isElement(value){return!!hasWindow()&&(value instanceof Element||value instanceof getWindow(value).Element)}function isHTMLElement(value){return!!hasWindow()&&(value instanceof HTMLElement||value instanceof getWindow(value).HTMLElement)}function isShadowRoot(value){return!(!hasWindow()||"undefined"==typeof ShadowRoot)&&(value instanceof ShadowRoot||value instanceof getWindow(value).ShadowRoot)}function isOverflowElement(element){const{overflow,overflowX,overflowY,display}=getComputedStyle(element);return/auto|scroll|overlay|hidden|clip/.test(overflow+overflowY+overflowX)&&!["inline","contents"].includes(display)}function isTableElement(element){return["table","td","th"].includes(getNodeName(element))}function isTopLayer(element){return[":popover-open",":modal"].some((selector=>{try{return element.matches(selector)}catch(e){return!1}}))}function isContainingBlock(elementOrCss){const webkit=isWebKit(),css=isElement(elementOrCss)?getComputedStyle(elementOrCss):elementOrCss;return["transform","translate","scale","rotate","perspective"].some((value=>!!css[value]&&"none"!==css[value]))||!!css.containerType&&"normal"!==css.containerType||!webkit&&!!css.backdropFilter&&"none"!==css.backdropFilter||!webkit&&!!css.filter&&"none"!==css.filter||["transform","translate","scale","rotate","perspective","filter"].some((value=>(css.willChange||"").includes(value)))||["paint","layout","strict","content"].some((value=>(css.contain||"").includes(value)))}function isWebKit(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(node){return["html","body","#document"].includes(getNodeName(node))}function getComputedStyle(element){return getWindow(element).getComputedStyle(element)}function getNodeScroll(element){return isElement(element)?{scrollLeft:element.scrollLeft,scrollTop:element.scrollTop}:{scrollLeft:element.scrollX,scrollTop:element.scrollY}}function getParentNode(node){if("html"===getNodeName(node))return node;const result=node.assignedSlot||node.parentNode||isShadowRoot(node)&&node.host||getDocumentElement(node);return isShadowRoot(result)?result.host:result}function getNearestOverflowAncestor(node){const parentNode=getParentNode(node);return isLastTraversableNode(parentNode)?node.ownerDocument?node.ownerDocument.body:node.body:isHTMLElement(parentNode)&&isOverflowElement(parentNode)?parentNode:getNearestOverflowAncestor(parentNode)}function getOverflowAncestors(node,list,traverseIframes){var _node$ownerDocument2;void 0===list&&(list=[]),void 0===traverseIframes&&(traverseIframes=!0);const scrollableAncestor=getNearestOverflowAncestor(node),isBody=scrollableAncestor===(null==(_node$ownerDocument2=node.ownerDocument)?void 0:_node$ownerDocument2.body),win=getWindow(scrollableAncestor);if(isBody){const frameElement=getFrameElement(win);return list.concat(win,win.visualViewport||[],isOverflowElement(scrollableAncestor)?scrollableAncestor:[],frameElement&&traverseIframes?getOverflowAncestors(frameElement):[])}return list.concat(scrollableAncestor,getOverflowAncestors(scrollableAncestor,[],traverseIframes))}function getFrameElement(win){return win.parent&&Object.getPrototypeOf(win.parent)?win.frameElement:null}function getCssDimensions(element){const css=getComputedStyle(element);let width=parseFloat(css.width)||0,height=parseFloat(css.height)||0;const hasOffset=isHTMLElement(element),offsetWidth=hasOffset?element.offsetWidth:width,offsetHeight=hasOffset?element.offsetHeight:height,shouldFallback=round(width)!==offsetWidth||round(height)!==offsetHeight;return shouldFallback&&(width=offsetWidth,height=offsetHeight),{width,height,$:shouldFallback}}function unwrapElement(element){return isElement(element)?element:element.contextElement}function getScale(element){const domElement=unwrapElement(element);if(!isHTMLElement(domElement))return createCoords(1);const rect=domElement.getBoundingClientRect(),{width,height,$}=getCssDimensions(domElement);let x=($?round(rect.width):rect.width)/width,y=($?round(rect.height):rect.height)/height;return x&&Number.isFinite(x)||(x=1),y&&Number.isFinite(y)||(y=1),{x,y}}const noOffsets=createCoords(0);function getVisualOffsets(element){const win=getWindow(element);return isWebKit()&&win.visualViewport?{x:win.visualViewport.offsetLeft,y:win.visualViewport.offsetTop}:noOffsets}function getBoundingClientRect(element,includeScale,isFixedStrategy,offsetParent){void 0===includeScale&&(includeScale=!1),void 0===isFixedStrategy&&(isFixedStrategy=!1);const clientRect=element.getBoundingClientRect(),domElement=unwrapElement(element);let scale=createCoords(1);includeScale&&(offsetParent?isElement(offsetParent)&&(scale=getScale(offsetParent)):scale=getScale(element));const visualOffsets=function shouldAddVisualOffsets(element,isFixed,floatingOffsetParent){return void 0===isFixed&&(isFixed=!1),!(!floatingOffsetParent||isFixed&&floatingOffsetParent!==getWindow(element))&&isFixed}(domElement,isFixedStrategy,offsetParent)?getVisualOffsets(domElement):createCoords(0);let x=(clientRect.left+visualOffsets.x)/scale.x,y=(clientRect.top+visualOffsets.y)/scale.y,width=clientRect.width/scale.x,height=clientRect.height/scale.y;if(domElement){const win=getWindow(domElement),offsetWin=offsetParent&&isElement(offsetParent)?getWindow(offsetParent):offsetParent;let currentWin=win,currentIFrame=getFrameElement(currentWin);for(;currentIFrame&&offsetParent&&offsetWin!==currentWin;){const iframeScale=getScale(currentIFrame),iframeRect=currentIFrame.getBoundingClientRect(),css=getComputedStyle(currentIFrame),left=iframeRect.left+(currentIFrame.clientLeft+parseFloat(css.paddingLeft))*iframeScale.x,top=iframeRect.top+(currentIFrame.clientTop+parseFloat(css.paddingTop))*iframeScale.y;x*=iframeScale.x,y*=iframeScale.y,width*=iframeScale.x,height*=iframeScale.y,x+=left,y+=top,currentWin=getWindow(currentIFrame),currentIFrame=getFrameElement(currentWin)}}return floating_ui_utils_rectToClientRect({width,height,x,y})}function getWindowScrollBarX(element,rect){const leftScroll=getNodeScroll(element).scrollLeft;return rect?rect.left+leftScroll:getBoundingClientRect(getDocumentElement(element)).left+leftScroll}function getHTMLOffset(documentElement,scroll,ignoreScrollbarX){void 0===ignoreScrollbarX&&(ignoreScrollbarX=!1);const htmlRect=documentElement.getBoundingClientRect();return{x:htmlRect.left+scroll.scrollLeft-(ignoreScrollbarX?0:getWindowScrollBarX(documentElement,htmlRect)),y:htmlRect.top+scroll.scrollTop}}function getClientRectFromClippingAncestor(element,clippingAncestor,strategy){let rect;if("viewport"===clippingAncestor)rect=function getViewportRect(element,strategy){const win=getWindow(element),html=getDocumentElement(element),visualViewport=win.visualViewport;let width=html.clientWidth,height=html.clientHeight,x=0,y=0;if(visualViewport){width=visualViewport.width,height=visualViewport.height;const visualViewportBased=isWebKit();(!visualViewportBased||visualViewportBased&&"fixed"===strategy)&&(x=visualViewport.offsetLeft,y=visualViewport.offsetTop)}return{width,height,x,y}}(element,strategy);else if("document"===clippingAncestor)rect=function getDocumentRect(element){const html=getDocumentElement(element),scroll=getNodeScroll(element),body=element.ownerDocument.body,width=floating_ui_utils_max(html.scrollWidth,html.clientWidth,body.scrollWidth,body.clientWidth),height=floating_ui_utils_max(html.scrollHeight,html.clientHeight,body.scrollHeight,body.clientHeight);let x=-scroll.scrollLeft+getWindowScrollBarX(element);const y=-scroll.scrollTop;return"rtl"===getComputedStyle(body).direction&&(x+=floating_ui_utils_max(html.clientWidth,body.clientWidth)-width),{width,height,x,y}}(getDocumentElement(element));else if(isElement(clippingAncestor))rect=function getInnerBoundingClientRect(element,strategy){const clientRect=getBoundingClientRect(element,!0,"fixed"===strategy),top=clientRect.top+element.clientTop,left=clientRect.left+element.clientLeft,scale=isHTMLElement(element)?getScale(element):createCoords(1);return{width:element.clientWidth*scale.x,height:element.clientHeight*scale.y,x:left*scale.x,y:top*scale.y}}(clippingAncestor,strategy);else{const visualOffsets=getVisualOffsets(element);rect={x:clippingAncestor.x-visualOffsets.x,y:clippingAncestor.y-visualOffsets.y,width:clippingAncestor.width,height:clippingAncestor.height}}return floating_ui_utils_rectToClientRect(rect)}function hasFixedPositionAncestor(element,stopNode){const parentNode=getParentNode(element);return!(parentNode===stopNode||!isElement(parentNode)||isLastTraversableNode(parentNode))&&("fixed"===getComputedStyle(parentNode).position||hasFixedPositionAncestor(parentNode,stopNode))}function getRectRelativeToOffsetParent(element,offsetParent,strategy){const isOffsetParentAnElement=isHTMLElement(offsetParent),documentElement=getDocumentElement(offsetParent),isFixed="fixed"===strategy,rect=getBoundingClientRect(element,!0,isFixed,offsetParent);let scroll={scrollLeft:0,scrollTop:0};const offsets=createCoords(0);if(isOffsetParentAnElement||!isOffsetParentAnElement&&!isFixed)if(("body"!==getNodeName(offsetParent)||isOverflowElement(documentElement))&&(scroll=getNodeScroll(offsetParent)),isOffsetParentAnElement){const offsetRect=getBoundingClientRect(offsetParent,!0,isFixed,offsetParent);offsets.x=offsetRect.x+offsetParent.clientLeft,offsets.y=offsetRect.y+offsetParent.clientTop}else documentElement&&(offsets.x=getWindowScrollBarX(documentElement));const htmlOffset=!documentElement||isOffsetParentAnElement||isFixed?createCoords(0):getHTMLOffset(documentElement,scroll);return{x:rect.left+scroll.scrollLeft-offsets.x-htmlOffset.x,y:rect.top+scroll.scrollTop-offsets.y-htmlOffset.y,width:rect.width,height:rect.height}}function isStaticPositioned(element){return"static"===getComputedStyle(element).position}function getTrueOffsetParent(element,polyfill){if(!isHTMLElement(element)||"fixed"===getComputedStyle(element).position)return null;if(polyfill)return polyfill(element);let rawOffsetParent=element.offsetParent;return getDocumentElement(element)===rawOffsetParent&&(rawOffsetParent=rawOffsetParent.ownerDocument.body),rawOffsetParent}function getOffsetParent(element,polyfill){const win=getWindow(element);if(isTopLayer(element))return win;if(!isHTMLElement(element)){let svgOffsetParent=getParentNode(element);for(;svgOffsetParent&&!isLastTraversableNode(svgOffsetParent);){if(isElement(svgOffsetParent)&&!isStaticPositioned(svgOffsetParent))return svgOffsetParent;svgOffsetParent=getParentNode(svgOffsetParent)}return win}let offsetParent=getTrueOffsetParent(element,polyfill);for(;offsetParent&&isTableElement(offsetParent)&&isStaticPositioned(offsetParent);)offsetParent=getTrueOffsetParent(offsetParent,polyfill);return offsetParent&&isLastTraversableNode(offsetParent)&&isStaticPositioned(offsetParent)&&!isContainingBlock(offsetParent)?win:offsetParent||function getContainingBlock(element){let currentNode=getParentNode(element);for(;isHTMLElement(currentNode)&&!isLastTraversableNode(currentNode);){if(isContainingBlock(currentNode))return currentNode;if(isTopLayer(currentNode))return null;currentNode=getParentNode(currentNode)}return null}(element)||win}const platform={convertOffsetParentRelativeRectToViewportRelativeRect:function convertOffsetParentRelativeRectToViewportRelativeRect(_ref){let{elements,rect,offsetParent,strategy}=_ref;const isFixed="fixed"===strategy,documentElement=getDocumentElement(offsetParent),topLayer=!!elements&&isTopLayer(elements.floating);if(offsetParent===documentElement||topLayer&&isFixed)return rect;let scroll={scrollLeft:0,scrollTop:0},scale=createCoords(1);const offsets=createCoords(0),isOffsetParentAnElement=isHTMLElement(offsetParent);if((isOffsetParentAnElement||!isOffsetParentAnElement&&!isFixed)&&(("body"!==getNodeName(offsetParent)||isOverflowElement(documentElement))&&(scroll=getNodeScroll(offsetParent)),isHTMLElement(offsetParent))){const offsetRect=getBoundingClientRect(offsetParent);scale=getScale(offsetParent),offsets.x=offsetRect.x+offsetParent.clientLeft,offsets.y=offsetRect.y+offsetParent.clientTop}const htmlOffset=!documentElement||isOffsetParentAnElement||isFixed?createCoords(0):getHTMLOffset(documentElement,scroll,!0);return{width:rect.width*scale.x,height:rect.height*scale.y,x:rect.x*scale.x-scroll.scrollLeft*scale.x+offsets.x+htmlOffset.x,y:rect.y*scale.y-scroll.scrollTop*scale.y+offsets.y+htmlOffset.y}},getDocumentElement,getClippingRect:function getClippingRect(_ref){let{element,boundary,rootBoundary,strategy}=_ref;const clippingAncestors=[..."clippingAncestors"===boundary?isTopLayer(element)?[]:function getClippingElementAncestors(element,cache){const cachedResult=cache.get(element);if(cachedResult)return cachedResult;let result=getOverflowAncestors(element,[],!1).filter((el=>isElement(el)&&"body"!==getNodeName(el))),currentContainingBlockComputedStyle=null;const elementIsFixed="fixed"===getComputedStyle(element).position;let currentNode=elementIsFixed?getParentNode(element):element;for(;isElement(currentNode)&&!isLastTraversableNode(currentNode);){const computedStyle=getComputedStyle(currentNode),currentNodeIsContaining=isContainingBlock(currentNode);currentNodeIsContaining||"fixed"!==computedStyle.position||(currentContainingBlockComputedStyle=null),(elementIsFixed?!currentNodeIsContaining&&!currentContainingBlockComputedStyle:!currentNodeIsContaining&&"static"===computedStyle.position&&currentContainingBlockComputedStyle&&["absolute","fixed"].includes(currentContainingBlockComputedStyle.position)||isOverflowElement(currentNode)&&!currentNodeIsContaining&&hasFixedPositionAncestor(element,currentNode))?result=result.filter((ancestor=>ancestor!==currentNode)):currentContainingBlockComputedStyle=computedStyle,currentNode=getParentNode(currentNode)}return cache.set(element,result),result}(element,this._c):[].concat(boundary),rootBoundary],firstClippingAncestor=clippingAncestors[0],clippingRect=clippingAncestors.reduce(((accRect,clippingAncestor)=>{const rect=getClientRectFromClippingAncestor(element,clippingAncestor,strategy);return accRect.top=floating_ui_utils_max(rect.top,accRect.top),accRect.right=floating_ui_utils_min(rect.right,accRect.right),accRect.bottom=floating_ui_utils_min(rect.bottom,accRect.bottom),accRect.left=floating_ui_utils_max(rect.left,accRect.left),accRect}),getClientRectFromClippingAncestor(element,firstClippingAncestor,strategy));return{width:clippingRect.right-clippingRect.left,height:clippingRect.bottom-clippingRect.top,x:clippingRect.left,y:clippingRect.top}},getOffsetParent,getElementRects:async function(data){const getOffsetParentFn=this.getOffsetParent||getOffsetParent,getDimensionsFn=this.getDimensions,floatingDimensions=await getDimensionsFn(data.floating);return{reference:getRectRelativeToOffsetParent(data.reference,await getOffsetParentFn(data.floating),data.strategy),floating:{x:0,y:0,width:floatingDimensions.width,height:floatingDimensions.height}}},getClientRects:function getClientRects(element){return Array.from(element.getClientRects())},getDimensions:function getDimensions(element){const{width,height}=getCssDimensions(element);return{width,height}},getScale,isElement,isRTL:function isRTL(element){return"rtl"===getComputedStyle(element).direction}};function rectsAreEqual(a,b){return a.x===b.x&&a.y===b.y&&a.width===b.width&&a.height===b.height}function autoUpdate(reference,floating,update,options){void 0===options&&(options={});const{ancestorScroll=!0,ancestorResize=!0,elementResize="function"==typeof ResizeObserver,layoutShift="function"==typeof IntersectionObserver,animationFrame=!1}=options,referenceEl=unwrapElement(reference),ancestors=ancestorScroll||ancestorResize?[...referenceEl?getOverflowAncestors(referenceEl):[],...getOverflowAncestors(floating)]:[];ancestors.forEach((ancestor=>{ancestorScroll&&ancestor.addEventListener("scroll",update,{passive:!0}),ancestorResize&&ancestor.addEventListener("resize",update)}));const cleanupIo=referenceEl&&layoutShift?function observeMove(element,onMove){let timeoutId,io=null;const root=getDocumentElement(element);function cleanup(){var _io;clearTimeout(timeoutId),null==(_io=io)||_io.disconnect(),io=null}return function refresh(skip,threshold){void 0===skip&&(skip=!1),void 0===threshold&&(threshold=1),cleanup();const elementRectForRootMargin=element.getBoundingClientRect(),{left,top,width,height}=elementRectForRootMargin;if(skip||onMove(),!width||!height)return;const options={rootMargin:-floor(top)+"px "+-floor(root.clientWidth-(left+width))+"px "+-floor(root.clientHeight-(top+height))+"px "+-floor(left)+"px",threshold:floating_ui_utils_max(0,floating_ui_utils_min(1,threshold))||1};let isFirstUpdate=!0;function handleObserve(entries){const ratio=entries[0].intersectionRatio;if(ratio!==threshold){if(!isFirstUpdate)return refresh();ratio?refresh(!1,ratio):timeoutId=setTimeout((()=>{refresh(!1,1e-7)}),1e3)}1!==ratio||rectsAreEqual(elementRectForRootMargin,element.getBoundingClientRect())||refresh(),isFirstUpdate=!1}try{io=new IntersectionObserver(handleObserve,{...options,root:root.ownerDocument})}catch(e){io=new IntersectionObserver(handleObserve,options)}io.observe(element)}(!0),cleanup}(referenceEl,update):null;let frameId,reobserveFrame=-1,resizeObserver=null;elementResize&&(resizeObserver=new ResizeObserver((_ref=>{let[firstEntry]=_ref;firstEntry&&firstEntry.target===referenceEl&&resizeObserver&&(resizeObserver.unobserve(floating),cancelAnimationFrame(reobserveFrame),reobserveFrame=requestAnimationFrame((()=>{var _resizeObserver;null==(_resizeObserver=resizeObserver)||_resizeObserver.observe(floating)}))),update()})),referenceEl&&!animationFrame&&resizeObserver.observe(referenceEl),resizeObserver.observe(floating));let prevRefRect=animationFrame?getBoundingClientRect(reference):null;return animationFrame&&function frameLoop(){const nextRefRect=getBoundingClientRect(reference);prevRefRect&&!rectsAreEqual(prevRefRect,nextRefRect)&&update();prevRefRect=nextRefRect,frameId=requestAnimationFrame(frameLoop)}(),update(),()=>{var _resizeObserver2;ancestors.forEach((ancestor=>{ancestorScroll&&ancestor.removeEventListener("scroll",update),ancestorResize&&ancestor.removeEventListener("resize",update)})),null==cleanupIo||cleanupIo(),null==(_resizeObserver2=resizeObserver)||_resizeObserver2.disconnect(),resizeObserver=null,animationFrame&&cancelAnimationFrame(frameId)}}const floating_ui_dom_offset=function(options){return void 0===options&&(options=0),{name:"offset",options,async fn(state){var _middlewareData$offse,_middlewareData$arrow;const{x,y,placement,middlewareData}=state,diffCoords=await async function convertValueToCoords(state,options){const{placement,platform,elements}=state,rtl=await(null==platform.isRTL?void 0:platform.isRTL(elements.floating)),side=floating_ui_utils_getSide(placement),alignment=floating_ui_utils_getAlignment(placement),isVertical="y"===floating_ui_utils_getSideAxis(placement),mainAxisMulti=["left","top"].includes(side)?-1:1,crossAxisMulti=rtl&&isVertical?-1:1,rawValue=floating_ui_utils_evaluate(options,state);let{mainAxis,crossAxis,alignmentAxis}="number"==typeof rawValue?{mainAxis:rawValue,crossAxis:0,alignmentAxis:null}:{mainAxis:rawValue.mainAxis||0,crossAxis:rawValue.crossAxis||0,alignmentAxis:rawValue.alignmentAxis};return alignment&&"number"==typeof alignmentAxis&&(crossAxis="end"===alignment?-1*alignmentAxis:alignmentAxis),isVertical?{x:crossAxis*crossAxisMulti,y:mainAxis*mainAxisMulti}:{x:mainAxis*mainAxisMulti,y:crossAxis*crossAxisMulti}}(state,options);return placement===(null==(_middlewareData$offse=middlewareData.offset)?void 0:_middlewareData$offse.placement)&&null!=(_middlewareData$arrow=middlewareData.arrow)&&_middlewareData$arrow.alignmentOffset?{}:{x:x+diffCoords.x,y:y+diffCoords.y,data:{...diffCoords,placement}}}}},floating_ui_dom_shift=function(options){return void 0===options&&(options={}),{name:"shift",options,async fn(state){const{x,y,placement}=state,{mainAxis:checkMainAxis=!0,crossAxis:checkCrossAxis=!1,limiter={fn:_ref=>{let{x,y}=_ref;return{x,y}}},...detectOverflowOptions}=floating_ui_utils_evaluate(options,state),coords={x,y},overflow=await detectOverflow(state,detectOverflowOptions),crossAxis=floating_ui_utils_getSideAxis(floating_ui_utils_getSide(placement)),mainAxis=getOppositeAxis(crossAxis);let mainAxisCoord=coords[mainAxis],crossAxisCoord=coords[crossAxis];if(checkMainAxis){const maxSide="y"===mainAxis?"bottom":"right";mainAxisCoord=clamp(mainAxisCoord+overflow["y"===mainAxis?"top":"left"],mainAxisCoord,mainAxisCoord-overflow[maxSide])}if(checkCrossAxis){const maxSide="y"===crossAxis?"bottom":"right";crossAxisCoord=clamp(crossAxisCoord+overflow["y"===crossAxis?"top":"left"],crossAxisCoord,crossAxisCoord-overflow[maxSide])}const limitedCoords=limiter.fn({...state,[mainAxis]:mainAxisCoord,[crossAxis]:crossAxisCoord});return{...limitedCoords,data:{x:limitedCoords.x-x,y:limitedCoords.y-y,enabled:{[mainAxis]:checkMainAxis,[crossAxis]:checkCrossAxis}}}}}},floating_ui_dom_flip=function(options){return void 0===options&&(options={}),{name:"flip",options,async fn(state){var _middlewareData$arrow,_middlewareData$flip;const{placement,middlewareData,rects,initialPlacement,platform,elements}=state,{mainAxis:checkMainAxis=!0,crossAxis:checkCrossAxis=!0,fallbackPlacements:specifiedFallbackPlacements,fallbackStrategy="bestFit",fallbackAxisSideDirection="none",flipAlignment=!0,...detectOverflowOptions}=floating_ui_utils_evaluate(options,state);if(null!=(_middlewareData$arrow=middlewareData.arrow)&&_middlewareData$arrow.alignmentOffset)return{};const side=floating_ui_utils_getSide(placement),initialSideAxis=floating_ui_utils_getSideAxis(initialPlacement),isBasePlacement=floating_ui_utils_getSide(initialPlacement)===initialPlacement,rtl=await(null==platform.isRTL?void 0:platform.isRTL(elements.floating)),fallbackPlacements=specifiedFallbackPlacements||(isBasePlacement||!flipAlignment?[getOppositePlacement(initialPlacement)]:function getExpandedPlacements(placement){const oppositePlacement=getOppositePlacement(placement);return[floating_ui_utils_getOppositeAlignmentPlacement(placement),oppositePlacement,floating_ui_utils_getOppositeAlignmentPlacement(oppositePlacement)]}(initialPlacement)),hasFallbackAxisSideDirection="none"!==fallbackAxisSideDirection;!specifiedFallbackPlacements&&hasFallbackAxisSideDirection&&fallbackPlacements.push(...function getOppositeAxisPlacements(placement,flipAlignment,direction,rtl){const alignment=floating_ui_utils_getAlignment(placement);let list=function getSideList(side,isStart,rtl){const lr=["left","right"],rl=["right","left"],tb=["top","bottom"],bt=["bottom","top"];switch(side){case"top":case"bottom":return rtl?isStart?rl:lr:isStart?lr:rl;case"left":case"right":return isStart?tb:bt;default:return[]}}(floating_ui_utils_getSide(placement),"start"===direction,rtl);return alignment&&(list=list.map((side=>side+"-"+alignment)),flipAlignment&&(list=list.concat(list.map(floating_ui_utils_getOppositeAlignmentPlacement)))),list}(initialPlacement,flipAlignment,fallbackAxisSideDirection,rtl));const placements=[initialPlacement,...fallbackPlacements],overflow=await detectOverflow(state,detectOverflowOptions),overflows=[];let overflowsData=(null==(_middlewareData$flip=middlewareData.flip)?void 0:_middlewareData$flip.overflows)||[];if(checkMainAxis&&overflows.push(overflow[side]),checkCrossAxis){const sides=function floating_ui_utils_getAlignmentSides(placement,rects,rtl){void 0===rtl&&(rtl=!1);const alignment=floating_ui_utils_getAlignment(placement),alignmentAxis=getAlignmentAxis(placement),length=getAxisLength(alignmentAxis);let mainAlignmentSide="x"===alignmentAxis?alignment===(rtl?"end":"start")?"right":"left":"start"===alignment?"bottom":"top";return rects.reference[length]>rects.floating[length]&&(mainAlignmentSide=getOppositePlacement(mainAlignmentSide)),[mainAlignmentSide,getOppositePlacement(mainAlignmentSide)]}(placement,rects,rtl);overflows.push(overflow[sides[0]],overflow[sides[1]])}if(overflowsData=[...overflowsData,{placement,overflows}],!overflows.every((side=>side<=0))){var _middlewareData$flip2,_overflowsData$filter;const nextIndex=((null==(_middlewareData$flip2=middlewareData.flip)?void 0:_middlewareData$flip2.index)||0)+1,nextPlacement=placements[nextIndex];if(nextPlacement)return{data:{index:nextIndex,overflows:overflowsData},reset:{placement:nextPlacement}};let resetPlacement=null==(_overflowsData$filter=overflowsData.filter((d=>d.overflows[0]<=0)).sort(((a,b)=>a.overflows[1]-b.overflows[1]))[0])?void 0:_overflowsData$filter.placement;if(!resetPlacement)switch(fallbackStrategy){case"bestFit":{var _overflowsData$filter2;const placement=null==(_overflowsData$filter2=overflowsData.filter((d=>{if(hasFallbackAxisSideDirection){const currentSideAxis=floating_ui_utils_getSideAxis(d.placement);return currentSideAxis===initialSideAxis||"y"===currentSideAxis}return!0})).map((d=>[d.placement,d.overflows.filter((overflow=>overflow>0)).reduce(((acc,overflow)=>acc+overflow),0)])).sort(((a,b)=>a[1]-b[1]))[0])?void 0:_overflowsData$filter2[0];placement&&(resetPlacement=placement);break}case"initialPlacement":resetPlacement=initialPlacement}if(placement!==resetPlacement)return{reset:{placement:resetPlacement}}}return{}}}},floating_ui_dom_size=function(options){return void 0===options&&(options={}),{name:"size",options,async fn(state){var _state$middlewareData,_state$middlewareData2;const{placement,rects,platform,elements}=state,{apply=()=>{},...detectOverflowOptions}=floating_ui_utils_evaluate(options,state),overflow=await detectOverflow(state,detectOverflowOptions),side=floating_ui_utils_getSide(placement),alignment=floating_ui_utils_getAlignment(placement),isYAxis="y"===floating_ui_utils_getSideAxis(placement),{width,height}=rects.floating;let heightSide,widthSide;"top"===side||"bottom"===side?(heightSide=side,widthSide=alignment===(await(null==platform.isRTL?void 0:platform.isRTL(elements.floating))?"start":"end")?"left":"right"):(widthSide=side,heightSide="end"===alignment?"top":"bottom");const maximumClippingHeight=height-overflow.top-overflow.bottom,maximumClippingWidth=width-overflow.left-overflow.right,overflowAvailableHeight=floating_ui_utils_min(height-overflow[heightSide],maximumClippingHeight),overflowAvailableWidth=floating_ui_utils_min(width-overflow[widthSide],maximumClippingWidth),noShift=!state.middlewareData.shift;let availableHeight=overflowAvailableHeight,availableWidth=overflowAvailableWidth;if(null!=(_state$middlewareData=state.middlewareData.shift)&&_state$middlewareData.enabled.x&&(availableWidth=maximumClippingWidth),null!=(_state$middlewareData2=state.middlewareData.shift)&&_state$middlewareData2.enabled.y&&(availableHeight=maximumClippingHeight),noShift&&!alignment){const xMin=floating_ui_utils_max(overflow.left,0),xMax=floating_ui_utils_max(overflow.right,0),yMin=floating_ui_utils_max(overflow.top,0),yMax=floating_ui_utils_max(overflow.bottom,0);isYAxis?availableWidth=width-2*(0!==xMin||0!==xMax?xMin+xMax:floating_ui_utils_max(overflow.left,overflow.right)):availableHeight=height-2*(0!==yMin||0!==yMax?yMin+yMax:floating_ui_utils_max(overflow.top,overflow.bottom))}await apply({...state,availableWidth,availableHeight});const nextDimensions=await platform.getDimensions(elements.floating);return width!==nextDimensions.width||height!==nextDimensions.height?{reset:{rects:!0}}:{}}}},floating_ui_dom_hide=function(options){return void 0===options&&(options={}),{name:"hide",options,async fn(state){const{rects}=state,{strategy="referenceHidden",...detectOverflowOptions}=floating_ui_utils_evaluate(options,state);switch(strategy){case"referenceHidden":{const offsets=getSideOffsets(await detectOverflow(state,{...detectOverflowOptions,elementContext:"reference"}),rects.reference);return{data:{referenceHiddenOffsets:offsets,referenceHidden:isAnySideFullyClipped(offsets)}}}case"escaped":{const offsets=getSideOffsets(await detectOverflow(state,{...detectOverflowOptions,altBoundary:!0}),rects.floating);return{data:{escapedOffsets:offsets,escaped:isAnySideFullyClipped(offsets)}}}default:return{}}}}},floating_ui_dom_arrow=options=>({name:"arrow",options,async fn(state){const{x,y,placement,rects,platform,elements,middlewareData}=state,{element,padding=0}=floating_ui_utils_evaluate(options,state)||{};if(null==element)return{};const paddingObject=floating_ui_utils_getPaddingObject(padding),coords={x,y},axis=getAlignmentAxis(placement),length=getAxisLength(axis),arrowDimensions=await platform.getDimensions(element),isYAxis="y"===axis,minProp=isYAxis?"top":"left",maxProp=isYAxis?"bottom":"right",clientProp=isYAxis?"clientHeight":"clientWidth",endDiff=rects.reference[length]+rects.reference[axis]-coords[axis]-rects.floating[length],startDiff=coords[axis]-rects.reference[axis],arrowOffsetParent=await(null==platform.getOffsetParent?void 0:platform.getOffsetParent(element));let clientSize=arrowOffsetParent?arrowOffsetParent[clientProp]:0;clientSize&&await(null==platform.isElement?void 0:platform.isElement(arrowOffsetParent))||(clientSize=elements.floating[clientProp]||rects.floating[length]);const centerToReference=endDiff/2-startDiff/2,largestPossiblePadding=clientSize/2-arrowDimensions[length]/2-1,minPadding=floating_ui_utils_min(paddingObject[minProp],largestPossiblePadding),maxPadding=floating_ui_utils_min(paddingObject[maxProp],largestPossiblePadding),min$1=minPadding,max=clientSize-arrowDimensions[length]-maxPadding,center=clientSize/2-arrowDimensions[length]/2+centerToReference,offset=clamp(min$1,center,max),shouldAddOffset=!middlewareData.arrow&&null!=floating_ui_utils_getAlignment(placement)&&center!==offset&&rects.reference[length]/2-(center<min$1?minPadding:maxPadding)-arrowDimensions[length]/2<0,alignmentOffset=shouldAddOffset?center<min$1?center-min$1:center-max:0;return{[axis]:coords[axis]+alignmentOffset,data:{[axis]:offset,centerOffset:center-offset-alignmentOffset,...shouldAddOffset&&{alignmentOffset}},reset:shouldAddOffset}}}),floating_ui_dom_limitShift=function(options){return void 0===options&&(options={}),{options,fn(state){const{x,y,placement,rects,middlewareData}=state,{offset=0,mainAxis:checkMainAxis=!0,crossAxis:checkCrossAxis=!0}=floating_ui_utils_evaluate(options,state),coords={x,y},crossAxis=floating_ui_utils_getSideAxis(placement),mainAxis=getOppositeAxis(crossAxis);let mainAxisCoord=coords[mainAxis],crossAxisCoord=coords[crossAxis];const rawOffset=floating_ui_utils_evaluate(offset,state),computedOffset="number"==typeof rawOffset?{mainAxis:rawOffset,crossAxis:0}:{mainAxis:0,crossAxis:0,...rawOffset};if(checkMainAxis){const len="y"===mainAxis?"height":"width",limitMin=rects.reference[mainAxis]-rects.floating[len]+computedOffset.mainAxis,limitMax=rects.reference[mainAxis]+rects.reference[len]-computedOffset.mainAxis;mainAxisCoord<limitMin?mainAxisCoord=limitMin:mainAxisCoord>limitMax&&(mainAxisCoord=limitMax)}if(checkCrossAxis){var _middlewareData$offse,_middlewareData$offse2;const len="y"===mainAxis?"width":"height",isOriginSide=["top","left"].includes(floating_ui_utils_getSide(placement)),limitMin=rects.reference[crossAxis]-rects.floating[len]+(isOriginSide&&(null==(_middlewareData$offse=middlewareData.offset)?void 0:_middlewareData$offse[crossAxis])||0)+(isOriginSide?0:computedOffset.crossAxis),limitMax=rects.reference[crossAxis]+rects.reference[len]+(isOriginSide?0:(null==(_middlewareData$offse2=middlewareData.offset)?void 0:_middlewareData$offse2[crossAxis])||0)-(isOriginSide?computedOffset.crossAxis:0);crossAxisCoord<limitMin?crossAxisCoord=limitMin:crossAxisCoord>limitMax&&(crossAxisCoord=limitMax)}return{[mainAxis]:mainAxisCoord,[crossAxis]:crossAxisCoord}}}},floating_ui_dom_computePosition=(reference,floating,options)=>{const cache=new Map,mergedOptions={platform,...options},platformWithCache={...mergedOptions.platform,_c:cache};return(async(reference,floating,config)=>{const{placement="bottom",strategy="absolute",middleware=[],platform}=config,validMiddleware=middleware.filter(Boolean),rtl=await(null==platform.isRTL?void 0:platform.isRTL(floating));let rects=await platform.getElementRects({reference,floating,strategy}),{x,y}=computeCoordsFromPlacement(rects,placement,rtl),statefulPlacement=placement,middlewareData={},resetCount=0;for(let i=0;i<validMiddleware.length;i++){const{name,fn}=validMiddleware[i],{x:nextX,y:nextY,data,reset}=await fn({x,y,initialPlacement:placement,placement:statefulPlacement,strategy,middlewareData,rects,platform,elements:{reference,floating}});x=null!=nextX?nextX:x,y=null!=nextY?nextY:y,middlewareData={...middlewareData,[name]:{...middlewareData[name],...data}},reset&&resetCount<=50&&(resetCount++,"object"==typeof reset&&(reset.placement&&(statefulPlacement=reset.placement),reset.rects&&(rects=!0===reset.rects?await platform.getElementRects({reference,floating,strategy}):reset.rects),({x,y}=computeCoordsFromPlacement(rects,statefulPlacement,rtl))),i=-1)}return{x,y,placement:statefulPlacement,strategy,middlewareData}})(reference,floating,{...mergedOptions,platform:platformWithCache})};var react_dom=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react-dom/index.js"),index="undefined"!=typeof document?react.useLayoutEffect:react.useEffect;function deepEqual(a,b){if(a===b)return!0;if(typeof a!=typeof b)return!1;if("function"==typeof a&&a.toString()===b.toString())return!0;let length,i,keys;if(a&&b&&"object"==typeof a){if(Array.isArray(a)){if(length=a.length,length!==b.length)return!1;for(i=length;0!=i--;)if(!deepEqual(a[i],b[i]))return!1;return!0}if(keys=Object.keys(a),length=keys.length,length!==Object.keys(b).length)return!1;for(i=length;0!=i--;)if(!{}.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!=i--;){const key=keys[i];if(("_owner"!==key||!a.$$typeof)&&!deepEqual(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}function getDPR(element){if("undefined"==typeof window)return 1;return(element.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(element,value){const dpr=getDPR(element);return Math.round(value*dpr)/dpr}function useLatestRef(value){const ref=react.useRef(value);return index((()=>{ref.current=value})),ref}const arrow$1=options=>({name:"arrow",options,fn(state){const{element,padding}="function"==typeof options?options(state):options;return element&&function isRef(value){return{}.hasOwnProperty.call(value,"current")}(element)?null!=element.current?floating_ui_dom_arrow({element:element.current,padding}).fn(state):{}:element?floating_ui_dom_arrow({element,padding}).fn(state):{}}}),floating_ui_react_dom_shift=(options,deps)=>({...floating_ui_dom_shift(options),options:[options,deps]}),floating_ui_react_dom_limitShift=(options,deps)=>({...floating_ui_dom_limitShift(options),options:[options,deps]}),floating_ui_react_dom_flip=(options,deps)=>({...floating_ui_dom_flip(options),options:[options,deps]}),floating_ui_react_dom_size=(options,deps)=>({...floating_ui_dom_size(options),options:[options,deps]}),floating_ui_react_dom_hide=(options,deps)=>({...floating_ui_dom_hide(options),options:[options,deps]}),floating_ui_react_dom_arrow=(options,deps)=>({...arrow$1(options),options:[options,deps]});var dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-primitive@2.1.0_@types+react-dom@19.1.2_@types+react@19.1.2__@types+rea_56c95403134da8494df5342ba255a4c7/node_modules/@radix-ui/react-primitive/dist/index.mjs"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),Arrow=react.forwardRef(((props,forwardedRef)=>{const{children,width=10,height=5,...arrowProps}=props;return(0,jsx_runtime.jsx)(dist.sG.svg,{...arrowProps,ref:forwardedRef,width,height,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:props.asChild?children:(0,jsx_runtime.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));Arrow.displayName="Arrow";var Root=Arrow,react_compose_refs_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),react_context_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-context@1.1.2_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-context/dist/index.mjs"),react_use_callback_ref_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-callback-ref@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs"),react_use_layout_effect_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-layout-effect@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs");var[createPopperContext,createPopperScope]=(0,react_context_dist.A)("Popper"),[PopperProvider,usePopperContext]=createPopperContext("Popper"),Popper=props=>{const{__scopePopper,children}=props,[anchor,setAnchor]=react.useState(null);return(0,jsx_runtime.jsx)(PopperProvider,{scope:__scopePopper,anchor,onAnchorChange:setAnchor,children})};Popper.displayName="Popper";var PopperAnchor=react.forwardRef(((props,forwardedRef)=>{const{__scopePopper,virtualRef,...anchorProps}=props,context=usePopperContext("PopperAnchor",__scopePopper),ref=react.useRef(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,ref);return react.useEffect((()=>{context.onAnchorChange(virtualRef?.current||ref.current)})),virtualRef?null:(0,jsx_runtime.jsx)(dist.sG.div,{...anchorProps,ref:composedRefs})}));PopperAnchor.displayName="PopperAnchor";var[PopperContentProvider,useContentContext]=createPopperContext("PopperContent"),PopperContent=react.forwardRef(((props,forwardedRef)=>{const{__scopePopper,side="bottom",sideOffset=0,align="center",alignOffset=0,arrowPadding=0,avoidCollisions=!0,collisionBoundary=[],collisionPadding:collisionPaddingProp=0,sticky="partial",hideWhenDetached=!1,updatePositionStrategy="optimized",onPlaced,...contentProps}=props,context=usePopperContext("PopperContent",__scopePopper),[content,setContent]=react.useState(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,(node=>setContent(node))),[arrow,setArrow]=react.useState(null),arrowSize=function useSize(element){const[size,setSize]=react.useState(void 0);return(0,react_use_layout_effect_dist.N)((()=>{if(element){setSize({width:element.offsetWidth,height:element.offsetHeight});const resizeObserver=new ResizeObserver((entries=>{if(!Array.isArray(entries))return;if(!entries.length)return;const entry=entries[0];let width,height;if("borderBoxSize"in entry){const borderSizeEntry=entry.borderBoxSize,borderSize=Array.isArray(borderSizeEntry)?borderSizeEntry[0]:borderSizeEntry;width=borderSize.inlineSize,height=borderSize.blockSize}else width=element.offsetWidth,height=element.offsetHeight;setSize({width,height})}));return resizeObserver.observe(element,{box:"border-box"}),()=>resizeObserver.unobserve(element)}setSize(void 0)}),[element]),size}(arrow),arrowWidth=arrowSize?.width??0,arrowHeight=arrowSize?.height??0,desiredPlacement=side+("center"!==align?"-"+align:""),collisionPadding="number"==typeof collisionPaddingProp?collisionPaddingProp:{top:0,right:0,bottom:0,left:0,...collisionPaddingProp},boundary=Array.isArray(collisionBoundary)?collisionBoundary:[collisionBoundary],hasExplicitBoundaries=boundary.length>0,detectOverflowOptions={padding:collisionPadding,boundary:boundary.filter(isNotNull),altBoundary:hasExplicitBoundaries},{refs,floatingStyles,placement,isPositioned,middlewareData}=function useFloating(options){void 0===options&&(options={});const{placement="bottom",strategy="absolute",middleware=[],platform,elements:{reference:externalReference,floating:externalFloating}={},transform=!0,whileElementsMounted,open}=options,[data,setData]=react.useState({x:0,y:0,strategy,placement,middlewareData:{},isPositioned:!1}),[latestMiddleware,setLatestMiddleware]=react.useState(middleware);deepEqual(latestMiddleware,middleware)||setLatestMiddleware(middleware);const[_reference,_setReference]=react.useState(null),[_floating,_setFloating]=react.useState(null),setReference=react.useCallback((node=>{node!==referenceRef.current&&(referenceRef.current=node,_setReference(node))}),[]),setFloating=react.useCallback((node=>{node!==floatingRef.current&&(floatingRef.current=node,_setFloating(node))}),[]),referenceEl=externalReference||_reference,floatingEl=externalFloating||_floating,referenceRef=react.useRef(null),floatingRef=react.useRef(null),dataRef=react.useRef(data),hasWhileElementsMounted=null!=whileElementsMounted,whileElementsMountedRef=useLatestRef(whileElementsMounted),platformRef=useLatestRef(platform),openRef=useLatestRef(open),update=react.useCallback((()=>{if(!referenceRef.current||!floatingRef.current)return;const config={placement,strategy,middleware:latestMiddleware};platformRef.current&&(config.platform=platformRef.current),floating_ui_dom_computePosition(referenceRef.current,floatingRef.current,config).then((data=>{const fullData={...data,isPositioned:!1!==openRef.current};isMountedRef.current&&!deepEqual(dataRef.current,fullData)&&(dataRef.current=fullData,react_dom.flushSync((()=>{setData(fullData)})))}))}),[latestMiddleware,placement,strategy,platformRef,openRef]);index((()=>{!1===open&&dataRef.current.isPositioned&&(dataRef.current.isPositioned=!1,setData((data=>({...data,isPositioned:!1}))))}),[open]);const isMountedRef=react.useRef(!1);index((()=>(isMountedRef.current=!0,()=>{isMountedRef.current=!1})),[]),index((()=>{if(referenceEl&&(referenceRef.current=referenceEl),floatingEl&&(floatingRef.current=floatingEl),referenceEl&&floatingEl){if(whileElementsMountedRef.current)return whileElementsMountedRef.current(referenceEl,floatingEl,update);update()}}),[referenceEl,floatingEl,update,whileElementsMountedRef,hasWhileElementsMounted]);const refs=react.useMemo((()=>({reference:referenceRef,floating:floatingRef,setReference,setFloating})),[setReference,setFloating]),elements=react.useMemo((()=>({reference:referenceEl,floating:floatingEl})),[referenceEl,floatingEl]),floatingStyles=react.useMemo((()=>{const initialStyles={position:strategy,left:0,top:0};if(!elements.floating)return initialStyles;const x=roundByDPR(elements.floating,data.x),y=roundByDPR(elements.floating,data.y);return transform?{...initialStyles,transform:"translate("+x+"px, "+y+"px)",...getDPR(elements.floating)>=1.5&&{willChange:"transform"}}:{position:strategy,left:x,top:y}}),[strategy,transform,elements.floating,data.x,data.y]);return react.useMemo((()=>({...data,update,refs,elements,floatingStyles})),[data,update,refs,elements,floatingStyles])}({strategy:"fixed",placement:desiredPlacement,whileElementsMounted:(...args)=>autoUpdate(...args,{animationFrame:"always"===updatePositionStrategy}),elements:{reference:context.anchor},middleware:[(options={mainAxis:sideOffset+arrowHeight,alignmentAxis:alignOffset},{...floating_ui_dom_offset(options),options:[options,deps]}),avoidCollisions&&floating_ui_react_dom_shift({mainAxis:!0,crossAxis:!1,limiter:"partial"===sticky?floating_ui_react_dom_limitShift():void 0,...detectOverflowOptions}),avoidCollisions&&floating_ui_react_dom_flip({...detectOverflowOptions}),floating_ui_react_dom_size({...detectOverflowOptions,apply:({elements,rects,availableWidth,availableHeight})=>{const{width:anchorWidth,height:anchorHeight}=rects.reference,contentStyle=elements.floating.style;contentStyle.setProperty("--radix-popper-available-width",`${availableWidth}px`),contentStyle.setProperty("--radix-popper-available-height",`${availableHeight}px`),contentStyle.setProperty("--radix-popper-anchor-width",`${anchorWidth}px`),contentStyle.setProperty("--radix-popper-anchor-height",`${anchorHeight}px`)}}),arrow&&floating_ui_react_dom_arrow({element:arrow,padding:arrowPadding}),transformOrigin({arrowWidth,arrowHeight}),hideWhenDetached&&floating_ui_react_dom_hide({strategy:"referenceHidden",...detectOverflowOptions})]});var options,deps;const[placedSide,placedAlign]=getSideAndAlignFromPlacement(placement),handlePlaced=(0,react_use_callback_ref_dist.c)(onPlaced);(0,react_use_layout_effect_dist.N)((()=>{isPositioned&&handlePlaced?.()}),[isPositioned,handlePlaced]);const arrowX=middlewareData.arrow?.x,arrowY=middlewareData.arrow?.y,cannotCenterArrow=0!==middlewareData.arrow?.centerOffset,[contentZIndex,setContentZIndex]=react.useState();return(0,react_use_layout_effect_dist.N)((()=>{content&&setContentZIndex(window.getComputedStyle(content).zIndex)}),[content]),(0,jsx_runtime.jsx)("div",{ref:refs.setFloating,"data-radix-popper-content-wrapper":"",style:{...floatingStyles,transform:isPositioned?floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:contentZIndex,"--radix-popper-transform-origin":[middlewareData.transformOrigin?.x,middlewareData.transformOrigin?.y].join(" "),...middlewareData.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:props.dir,children:(0,jsx_runtime.jsx)(PopperContentProvider,{scope:__scopePopper,placedSide,onArrowChange:setArrow,arrowX,arrowY,shouldHideArrow:cannotCenterArrow,children:(0,jsx_runtime.jsx)(dist.sG.div,{"data-side":placedSide,"data-align":placedAlign,...contentProps,ref:composedRefs,style:{...contentProps.style,animation:isPositioned?void 0:"none"}})})})}));PopperContent.displayName="PopperContent";var OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=react.forwardRef((function PopperArrow2(props,forwardedRef){const{__scopePopper,...arrowProps}=props,contentContext=useContentContext("PopperArrow",__scopePopper),baseSide=OPPOSITE_SIDE[contentContext.placedSide];return(0,jsx_runtime.jsx)("span",{ref:contentContext.onArrowChange,style:{position:"absolute",left:contentContext.arrowX,top:contentContext.arrowY,[baseSide]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[contentContext.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[contentContext.placedSide],visibility:contentContext.shouldHideArrow?"hidden":void 0},children:(0,jsx_runtime.jsx)(Root,{...arrowProps,ref:forwardedRef,style:{...arrowProps.style,display:"block"}})})}));function isNotNull(value){return null!==value}PopperArrow.displayName="PopperArrow";var transformOrigin=options=>({name:"transformOrigin",options,fn(data){const{placement,rects,middlewareData}=data,isArrowHidden=0!==middlewareData.arrow?.centerOffset,arrowWidth=isArrowHidden?0:options.arrowWidth,arrowHeight=isArrowHidden?0:options.arrowHeight,[placedSide,placedAlign]=getSideAndAlignFromPlacement(placement),noArrowAlign={start:"0%",center:"50%",end:"100%"}[placedAlign],arrowXCenter=(middlewareData.arrow?.x??0)+arrowWidth/2,arrowYCenter=(middlewareData.arrow?.y??0)+arrowHeight/2;let x="",y="";return"bottom"===placedSide?(x=isArrowHidden?noArrowAlign:`${arrowXCenter}px`,y=-arrowHeight+"px"):"top"===placedSide?(x=isArrowHidden?noArrowAlign:`${arrowXCenter}px`,y=`${rects.floating.height+arrowHeight}px`):"right"===placedSide?(x=-arrowHeight+"px",y=isArrowHidden?noArrowAlign:`${arrowYCenter}px`):"left"===placedSide&&(x=`${rects.floating.width+arrowHeight}px`,y=isArrowHidden?noArrowAlign:`${arrowYCenter}px`),{data:{x,y}}}});function getSideAndAlignFromPlacement(placement){const[side,align="center"]=placement.split("-");return[side,align]}var Root2=Popper,Anchor=PopperAnchor,Content=PopperContent,dist_Arrow=PopperArrow},"./node_modules/.pnpm/@radix-ui+react-portal@1.1.6_@types+react-dom@19.1.2_@types+react@19.1.2__@types+react@_2295a3d0ef089e0f4a9c06622332597d/node_modules/@radix-ui/react-portal/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Portal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react-dom/index.js"),_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-primitive@2.1.0_@types+react-dom@19.1.2_@types+react@19.1.2__@types+rea_56c95403134da8494df5342ba255a4c7/node_modules/@radix-ui/react-primitive/dist/index.mjs"),_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-layout-effect@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),Portal=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((props,forwardedRef)=>{const{container:containerProp,...portalProps}=props,[mounted,setMounted]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);(0,_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_3__.N)((()=>setMounted(!0)),[]);const container=containerProp||mounted&&globalThis?.document?.body;return container?react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_4__.sG.div,{...portalProps,ref:forwardedRef}),container):null}));Portal.displayName="Portal"},"./node_modules/.pnpm/@radix-ui+react-presence@1.1.4_@types+react-dom@19.1.2_@types+react@19.1.2__@types+reac_01531d7e373404f85f01b998531f26ee/node_modules/@radix-ui/react-presence/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>Presence});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-layout-effect@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs");var Presence=props=>{const{present,children}=props,presence=function usePresence(present){const[node,setNode]=react__WEBPACK_IMPORTED_MODULE_0__.useState(),stylesRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),prevPresentRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(present),prevAnimationNameRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef("none"),initialState=present?"mounted":"unmounted",[state,send]=function useStateMachine(initialState,machine){return react__WEBPACK_IMPORTED_MODULE_0__.useReducer(((state,event)=>machine[state][event]??state),initialState)}(initialState,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const currentAnimationName=getAnimationName(stylesRef.current);prevAnimationNameRef.current="mounted"===state?currentAnimationName:"none"}),[state]),(0,_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_2__.N)((()=>{const styles=stylesRef.current,wasPresent=prevPresentRef.current;if(wasPresent!==present){const prevAnimationName=prevAnimationNameRef.current,currentAnimationName=getAnimationName(styles);if(present)send("MOUNT");else if("none"===currentAnimationName||"none"===styles?.display)send("UNMOUNT");else{send(wasPresent&&prevAnimationName!==currentAnimationName?"ANIMATION_OUT":"UNMOUNT")}prevPresentRef.current=present}}),[present,send]),(0,_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_2__.N)((()=>{if(node){let timeoutId;const ownerWindow=node.ownerDocument.defaultView??window,handleAnimationEnd=event=>{const isCurrentAnimation=getAnimationName(stylesRef.current).includes(event.animationName);if(event.target===node&&isCurrentAnimation&&(send("ANIMATION_END"),!prevPresentRef.current)){const currentFillMode=node.style.animationFillMode;node.style.animationFillMode="forwards",timeoutId=ownerWindow.setTimeout((()=>{"forwards"===node.style.animationFillMode&&(node.style.animationFillMode=currentFillMode)}))}},handleAnimationStart=event=>{event.target===node&&(prevAnimationNameRef.current=getAnimationName(stylesRef.current))};return node.addEventListener("animationstart",handleAnimationStart),node.addEventListener("animationcancel",handleAnimationEnd),node.addEventListener("animationend",handleAnimationEnd),()=>{ownerWindow.clearTimeout(timeoutId),node.removeEventListener("animationstart",handleAnimationStart),node.removeEventListener("animationcancel",handleAnimationEnd),node.removeEventListener("animationend",handleAnimationEnd)}}send("ANIMATION_END")}),[node,send]),{isPresent:["mounted","unmountSuspended"].includes(state),ref:react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node2=>{stylesRef.current=node2?getComputedStyle(node2):null,setNode(node2)}),[])}}(present),child="function"==typeof children?children({present:presence.isPresent}):react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children),ref=(0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_1__.s)(presence.ref,function getElementRef(element){let getter=Object.getOwnPropertyDescriptor(element.props,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning;if(mayWarn)return element.ref;if(getter=Object.getOwnPropertyDescriptor(element,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning,mayWarn)return element.props.ref;return element.props.ref||element.ref}(child));return"function"==typeof children||presence.isPresent?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child,{ref}):null};function getAnimationName(styles){return styles?.animationName||"none"}Presence.displayName="Presence"},"./node_modules/.pnpm/@radix-ui+react-primitive@2.1.0_@types+react-dom@19.1.2_@types+react@19.1.2__@types+rea_56c95403134da8494df5342ba255a4c7/node_modules/@radix-ui/react-primitive/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{hO:()=>dispatchDiscreteCustomEvent,sG:()=>Primitive});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react-dom/index.js"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-slot@1.2.0_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-slot/dist/index.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),Primitive=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(((primitive,node)=>{const Slot=(0,_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__.TL)(`Primitive.${node}`),Node=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((props,forwardedRef)=>{const{asChild,...primitiveProps}=props,Comp=asChild?Slot:node;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Comp,{...primitiveProps,ref:forwardedRef})}));return Node.displayName=`Primitive.${node}`,{...primitive,[node]:Node}}),{});function dispatchDiscreteCustomEvent(target,event){target&&react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync((()=>target.dispatchEvent(event)))}},"./node_modules/.pnpm/@radix-ui+react-slot@1.2.0_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-slot/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DX:()=>Slot,Dc:()=>createSlottable,TL:()=>createSlot});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js");function createSlot(ownerName){const SlotClone=createSlotClone(ownerName),Slot2=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((props,forwardedRef)=>{const{children,...slotProps}=props,childrenArray=react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(children),slottable=childrenArray.find(isSlottable);if(slottable){const newElement=slottable.props.children,newChildren=childrenArray.map((child=>child===slottable?react__WEBPACK_IMPORTED_MODULE_0__.Children.count(newElement)>1?react__WEBPACK_IMPORTED_MODULE_0__.Children.only(null):react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(newElement)?newElement.props.children:null:child));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SlotClone,{...slotProps,ref:forwardedRef,children:react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(newElement)?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(newElement,void 0,newChildren):null})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SlotClone,{...slotProps,ref:forwardedRef,children})}));return Slot2.displayName=`${ownerName}.Slot`,Slot2}var Slot=createSlot("Slot");function createSlotClone(ownerName){const SlotClone=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((props,forwardedRef)=>{const{children,...slotProps}=props;if(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(children)){const childrenRef=function getElementRef(element){let getter=Object.getOwnPropertyDescriptor(element.props,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning;if(mayWarn)return element.ref;if(getter=Object.getOwnPropertyDescriptor(element,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning,mayWarn)return element.props.ref;return element.props.ref||element.ref}(children),props2=function mergeProps(slotProps,childProps){const overrideProps={...childProps};for(const propName in childProps){const slotPropValue=slotProps[propName],childPropValue=childProps[propName];/^on[A-Z]/.test(propName)?slotPropValue&&childPropValue?overrideProps[propName]=(...args)=>{childPropValue(...args),slotPropValue(...args)}:slotPropValue&&(overrideProps[propName]=slotPropValue):"style"===propName?overrideProps[propName]={...slotPropValue,...childPropValue}:"className"===propName&&(overrideProps[propName]=[slotPropValue,childPropValue].filter(Boolean).join(" "))}return{...slotProps,...overrideProps}}(slotProps,children.props);return children.type!==react__WEBPACK_IMPORTED_MODULE_0__.Fragment&&(props2.ref=forwardedRef?(0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_2__.t)(forwardedRef,childrenRef):childrenRef),react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children,props2)}return react__WEBPACK_IMPORTED_MODULE_0__.Children.count(children)>1?react__WEBPACK_IMPORTED_MODULE_0__.Children.only(null):null}));return SlotClone.displayName=`${ownerName}.SlotClone`,SlotClone}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function createSlottable(ownerName){const Slottable2=({children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children});return Slottable2.displayName=`${ownerName}.Slottable`,Slottable2.__radixId=SLOTTABLE_IDENTIFIER,Slottable2}function isSlottable(child){return react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)&&"function"==typeof child.type&&"__radixId"in child.type&&child.type.__radixId===SLOTTABLE_IDENTIFIER}},"./node_modules/.pnpm/@radix-ui+react-use-callback-ref@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>useCallbackRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js");function useCallbackRef(callback){const callbackRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(callback);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{callbackRef.current=callback})),react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>(...args)=>callbackRef.current?.(...args)),[])}},"./node_modules/.pnpm/@radix-ui+react-use-controllable-state@1.2.2_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var react__WEBPACK_IMPORTED_MODULE_0___namespace_cache;__webpack_require__.d(__webpack_exports__,{i:()=>useControllableState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-layout-effect@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js"),useInsertionEffect=(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2)))[" useInsertionEffect ".trim().toString()]||_radix_ui_react_use_layout_effect__WEBPACK_IMPORTED_MODULE_1__.N;function useControllableState({prop,defaultProp,onChange=()=>{},caller}){const[uncontrolledProp,setUncontrolledProp,onChangeRef]=function useUncontrolledState({defaultProp,onChange}){const[value,setValue]=react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultProp),prevValueRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(value),onChangeRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(onChange);return useInsertionEffect((()=>{onChangeRef.current=onChange}),[onChange]),react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{prevValueRef.current!==value&&(onChangeRef.current?.(value),prevValueRef.current=value)}),[value,prevValueRef]),[value,setValue,onChangeRef]}({defaultProp,onChange}),isControlled=void 0!==prop,value=isControlled?prop:uncontrolledProp;{const isControlledRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(void 0!==prop);react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const wasControlled=isControlledRef.current;if(wasControlled!==isControlled){const from=wasControlled?"controlled":"uncontrolled",to=isControlled?"controlled":"uncontrolled";console.warn(`${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}isControlledRef.current=isControlled}),[isControlled,caller])}const setValue=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((nextValue=>{if(isControlled){const value2=function isFunction(value){return"function"==typeof value}(nextValue)?nextValue(prop):nextValue;value2!==prop&&onChangeRef.current?.(value2)}else setUncontrolledProp(nextValue)}),[isControlled,prop,setUncontrolledProp,onChangeRef]);return[value,setValue]}Symbol("RADIX:SYNC_STATE")},"./node_modules/.pnpm/@radix-ui+react-use-layout-effect@1.1.1_@types+react@19.1.2_react@19.1.0/node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>useLayoutEffect2});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),useLayoutEffect2=globalThis?.document?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:()=>{}},"./node_modules/.pnpm/@supabase+node-fetch@2.6.15/node_modules/@supabase/node-fetch/browser.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Headers:()=>Headers,Request:()=>Request,Response:()=>Response,default:()=>__WEBPACK_DEFAULT_EXPORT__,fetch:()=>fetch});var globalObject=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("unable to locate global object")}();const fetch=globalObject.fetch,__WEBPACK_DEFAULT_EXPORT__=globalObject.fetch.bind(globalObject),Headers=globalObject.Headers,Request=globalObject.Request,Response=globalObject.Response},"./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestBuilder.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const node_fetch_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+node-fetch@2.6.15/node_modules/@supabase/node-fetch/browser.js")),PostgrestError_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestError.js"));exports.default=class PostgrestBuilder{constructor(builder){this.shouldThrowOnError=!1,this.method=builder.method,this.url=builder.url,this.headers=builder.headers,this.schema=builder.schema,this.body=builder.body,this.shouldThrowOnError=builder.shouldThrowOnError,this.signal=builder.signal,this.isMaybeSingle=builder.isMaybeSingle,builder.fetch?this.fetch=builder.fetch:"undefined"==typeof fetch?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(name,value){return this.headers=Object.assign({},this.headers),this.headers[name]=value,this}then(onfulfilled,onrejected){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let res=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async res=>{var _a,_b,_c;let error=null,data=null,count=null,status=res.status,statusText=res.statusText;if(res.ok){if("HEAD"!==this.method){const body=await res.text();""===body||(data="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?body:JSON.parse(body))}const countHeader=null===(_a=this.headers.Prefer)||void 0===_a?void 0:_a.match(/count=(exact|planned|estimated)/),contentRange=null===(_b=res.headers.get("content-range"))||void 0===_b?void 0:_b.split("/");countHeader&&contentRange&&contentRange.length>1&&(count=parseInt(contentRange[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(data)&&(data.length>1?(error={code:"PGRST116",details:`Results contain ${data.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},data=null,count=null,status=406,statusText="Not Acceptable"):data=1===data.length?data[0]:null)}else{const body=await res.text();try{error=JSON.parse(body),Array.isArray(error)&&404===res.status&&(data=[],error=null,status=200,statusText="OK")}catch(_d){404===res.status&&""===body?(status=204,statusText="No Content"):error={message:body}}if(error&&this.isMaybeSingle&&(null===(_c=null==error?void 0:error.details)||void 0===_c?void 0:_c.includes("0 rows"))&&(error=null,status=200,statusText="OK"),error&&this.shouldThrowOnError)throw new PostgrestError_1.default(error)}return{error,data,count,status,statusText}}));return this.shouldThrowOnError||(res=res.catch((fetchError=>{var _a,_b,_c;return{error:{message:`${null!==(_a=null==fetchError?void 0:fetchError.name)&&void 0!==_a?_a:"FetchError"}: ${null==fetchError?void 0:fetchError.message}`,details:`${null!==(_b=null==fetchError?void 0:fetchError.stack)&&void 0!==_b?_b:""}`,hint:"",code:`${null!==(_c=null==fetchError?void 0:fetchError.code)&&void 0!==_c?_c:""}`},data:null,count:null,status:0,statusText:""}}))),res.then(onfulfilled,onrejected)}returns(){return this}overrideTypes(){return this}}},"./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestClient.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const PostgrestQueryBuilder_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestQueryBuilder.js")),PostgrestFilterBuilder_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestFilterBuilder.js")),constants_1=__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/constants.js");class PostgrestClient{constructor(url,{headers={},schema,fetch}={}){this.url=url,this.headers=Object.assign(Object.assign({},constants_1.DEFAULT_HEADERS),headers),this.schemaName=schema,this.fetch=fetch}from(relation){const url=new URL(`${this.url}/${relation}`);return new PostgrestQueryBuilder_1.default(url,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(schema){return new PostgrestClient(this.url,{headers:this.headers,schema,fetch:this.fetch})}rpc(fn,args={},{head=!1,get=!1,count}={}){let method;const url=new URL(`${this.url}/rpc/${fn}`);let body;head||get?(method=head?"HEAD":"GET",Object.entries(args).filter((([_,value])=>void 0!==value)).map((([name,value])=>[name,Array.isArray(value)?`{${value.join(",")}}`:`${value}`])).forEach((([name,value])=>{url.searchParams.append(name,value)}))):(method="POST",body=args);const headers=Object.assign({},this.headers);return count&&(headers.Prefer=`count=${count}`),new PostgrestFilterBuilder_1.default({method,url,headers,schema:this.schemaName,body,fetch:this.fetch,allowEmpty:!1})}}exports.default=PostgrestClient},"./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestError.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class PostgrestError extends Error{constructor(context){super(context.message),this.name="PostgrestError",this.details=context.details,this.hint=context.hint,this.code=context.code}}exports.default=PostgrestError},"./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestFilterBuilder.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const PostgrestTransformBuilder_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestTransformBuilder.js"));class PostgrestFilterBuilder extends PostgrestTransformBuilder_1.default{eq(column,value){return this.url.searchParams.append(column,`eq.${value}`),this}neq(column,value){return this.url.searchParams.append(column,`neq.${value}`),this}gt(column,value){return this.url.searchParams.append(column,`gt.${value}`),this}gte(column,value){return this.url.searchParams.append(column,`gte.${value}`),this}lt(column,value){return this.url.searchParams.append(column,`lt.${value}`),this}lte(column,value){return this.url.searchParams.append(column,`lte.${value}`),this}like(column,pattern){return this.url.searchParams.append(column,`like.${pattern}`),this}likeAllOf(column,patterns){return this.url.searchParams.append(column,`like(all).{${patterns.join(",")}}`),this}likeAnyOf(column,patterns){return this.url.searchParams.append(column,`like(any).{${patterns.join(",")}}`),this}ilike(column,pattern){return this.url.searchParams.append(column,`ilike.${pattern}`),this}ilikeAllOf(column,patterns){return this.url.searchParams.append(column,`ilike(all).{${patterns.join(",")}}`),this}ilikeAnyOf(column,patterns){return this.url.searchParams.append(column,`ilike(any).{${patterns.join(",")}}`),this}is(column,value){return this.url.searchParams.append(column,`is.${value}`),this}in(column,values){const cleanedValues=Array.from(new Set(values)).map((s=>"string"==typeof s&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`)).join(",");return this.url.searchParams.append(column,`in.(${cleanedValues})`),this}contains(column,value){return"string"==typeof value?this.url.searchParams.append(column,`cs.${value}`):Array.isArray(value)?this.url.searchParams.append(column,`cs.{${value.join(",")}}`):this.url.searchParams.append(column,`cs.${JSON.stringify(value)}`),this}containedBy(column,value){return"string"==typeof value?this.url.searchParams.append(column,`cd.${value}`):Array.isArray(value)?this.url.searchParams.append(column,`cd.{${value.join(",")}}`):this.url.searchParams.append(column,`cd.${JSON.stringify(value)}`),this}rangeGt(column,range){return this.url.searchParams.append(column,`sr.${range}`),this}rangeGte(column,range){return this.url.searchParams.append(column,`nxl.${range}`),this}rangeLt(column,range){return this.url.searchParams.append(column,`sl.${range}`),this}rangeLte(column,range){return this.url.searchParams.append(column,`nxr.${range}`),this}rangeAdjacent(column,range){return this.url.searchParams.append(column,`adj.${range}`),this}overlaps(column,value){return"string"==typeof value?this.url.searchParams.append(column,`ov.${value}`):this.url.searchParams.append(column,`ov.{${value.join(",")}}`),this}textSearch(column,query,{config,type}={}){let typePart="";"plain"===type?typePart="pl":"phrase"===type?typePart="ph":"websearch"===type&&(typePart="w");const configPart=void 0===config?"":`(${config})`;return this.url.searchParams.append(column,`${typePart}fts${configPart}.${query}`),this}match(query){return Object.entries(query).forEach((([column,value])=>{this.url.searchParams.append(column,`eq.${value}`)})),this}not(column,operator,value){return this.url.searchParams.append(column,`not.${operator}.${value}`),this}or(filters,{foreignTable,referencedTable=foreignTable}={}){const key=referencedTable?`${referencedTable}.or`:"or";return this.url.searchParams.append(key,`(${filters})`),this}filter(column,operator,value){return this.url.searchParams.append(column,`${operator}.${value}`),this}}exports.default=PostgrestFilterBuilder},"./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestQueryBuilder.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const PostgrestFilterBuilder_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestFilterBuilder.js"));exports.default=class PostgrestQueryBuilder{constructor(url,{headers={},schema,fetch}){this.url=url,this.headers=headers,this.schema=schema,this.fetch=fetch}select(columns,{head=!1,count}={}){const method=head?"HEAD":"GET";let quoted=!1;const cleanedColumns=(null!=columns?columns:"*").split("").map((c=>/\s/.test(c)&&!quoted?"":('"'===c&&(quoted=!quoted),c))).join("");return this.url.searchParams.set("select",cleanedColumns),count&&(this.headers.Prefer=`count=${count}`),new PostgrestFilterBuilder_1.default({method,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(values,{count,defaultToNull=!0}={}){const prefersHeaders=[];if(this.headers.Prefer&&prefersHeaders.push(this.headers.Prefer),count&&prefersHeaders.push(`count=${count}`),defaultToNull||prefersHeaders.push("missing=default"),this.headers.Prefer=prefersHeaders.join(","),Array.isArray(values)){const columns=values.reduce(((acc,x)=>acc.concat(Object.keys(x))),[]);if(columns.length>0){const uniqueColumns=[...new Set(columns)].map((column=>`"${column}"`));this.url.searchParams.set("columns",uniqueColumns.join(","))}}return new PostgrestFilterBuilder_1.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:values,fetch:this.fetch,allowEmpty:!1})}upsert(values,{onConflict,ignoreDuplicates=!1,count,defaultToNull=!0}={}){const prefersHeaders=[`resolution=${ignoreDuplicates?"ignore":"merge"}-duplicates`];if(void 0!==onConflict&&this.url.searchParams.set("on_conflict",onConflict),this.headers.Prefer&&prefersHeaders.push(this.headers.Prefer),count&&prefersHeaders.push(`count=${count}`),defaultToNull||prefersHeaders.push("missing=default"),this.headers.Prefer=prefersHeaders.join(","),Array.isArray(values)){const columns=values.reduce(((acc,x)=>acc.concat(Object.keys(x))),[]);if(columns.length>0){const uniqueColumns=[...new Set(columns)].map((column=>`"${column}"`));this.url.searchParams.set("columns",uniqueColumns.join(","))}}return new PostgrestFilterBuilder_1.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:values,fetch:this.fetch,allowEmpty:!1})}update(values,{count}={}){const prefersHeaders=[];return this.headers.Prefer&&prefersHeaders.push(this.headers.Prefer),count&&prefersHeaders.push(`count=${count}`),this.headers.Prefer=prefersHeaders.join(","),new PostgrestFilterBuilder_1.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:values,fetch:this.fetch,allowEmpty:!1})}delete({count}={}){const prefersHeaders=[];return count&&prefersHeaders.push(`count=${count}`),this.headers.Prefer&&prefersHeaders.unshift(this.headers.Prefer),this.headers.Prefer=prefersHeaders.join(","),new PostgrestFilterBuilder_1.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},"./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestTransformBuilder.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const PostgrestBuilder_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestBuilder.js"));class PostgrestTransformBuilder extends PostgrestBuilder_1.default{select(columns){let quoted=!1;const cleanedColumns=(null!=columns?columns:"*").split("").map((c=>/\s/.test(c)&&!quoted?"":('"'===c&&(quoted=!quoted),c))).join("");return this.url.searchParams.set("select",cleanedColumns),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(column,{ascending=!0,nullsFirst,foreignTable,referencedTable=foreignTable}={}){const key=referencedTable?`${referencedTable}.order`:"order",existingOrder=this.url.searchParams.get(key);return this.url.searchParams.set(key,`${existingOrder?`${existingOrder},`:""}${column}.${ascending?"asc":"desc"}${void 0===nullsFirst?"":nullsFirst?".nullsfirst":".nullslast"}`),this}limit(count,{foreignTable,referencedTable=foreignTable}={}){const key=void 0===referencedTable?"limit":`${referencedTable}.limit`;return this.url.searchParams.set(key,`${count}`),this}range(from,to,{foreignTable,referencedTable=foreignTable}={}){const keyOffset=void 0===referencedTable?"offset":`${referencedTable}.offset`,keyLimit=void 0===referencedTable?"limit":`${referencedTable}.limit`;return this.url.searchParams.set(keyOffset,`${from}`),this.url.searchParams.set(keyLimit,""+(to-from+1)),this}abortSignal(signal){return this.signal=signal,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze=!1,verbose=!1,settings=!1,buffers=!1,wal=!1,format="text"}={}){var _a;const options=[analyze?"analyze":null,verbose?"verbose":null,settings?"settings":null,buffers?"buffers":null,wal?"wal":null].filter(Boolean).join("|"),forMediatype=null!==(_a=this.headers.Accept)&&void 0!==_a?_a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${format}; for="${forMediatype}"; options=${options};`,this}rollback(){var _a;return(null!==(_a=this.headers.Prefer)&&void 0!==_a?_a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}exports.default=PostgrestTransformBuilder},"./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/constants.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_HEADERS=void 0;const version_1=__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/version.js");exports.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${version_1.version}`}},"./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostgrestError=exports.PostgrestBuilder=exports.PostgrestTransformBuilder=exports.PostgrestFilterBuilder=exports.PostgrestQueryBuilder=exports.PostgrestClient=void 0;const PostgrestClient_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestClient.js"));exports.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestQueryBuilder.js"));exports.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestFilterBuilder.js"));exports.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestTransformBuilder.js"));exports.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestBuilder.js"));exports.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/PostgrestError.js"));exports.PostgrestError=PostgrestError_1.default,exports.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default}},"./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/version.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.version=void 0,exports.version="0.0.0-automated"},"./node_modules/.pnpm/@supabase+supabase-js@2.49.4/node_modules/@supabase/supabase-js/dist/module/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{UU:()=>createClient});class FunctionsError extends Error{constructor(message,name="FunctionsError",context){super(message),this.name=name,this.context=context}}class FunctionsFetchError extends FunctionsError{constructor(context){super("Failed to send a request to the Edge Function","FunctionsFetchError",context)}}class FunctionsRelayError extends FunctionsError{constructor(context){super("Relay Error invoking the Edge Function","FunctionsRelayError",context)}}class FunctionsHttpError extends FunctionsError{constructor(context){super("Edge Function returned a non-2xx status code","FunctionsHttpError",context)}}var FunctionRegion;!function(FunctionRegion){FunctionRegion.Any="any",FunctionRegion.ApNortheast1="ap-northeast-1",FunctionRegion.ApNortheast2="ap-northeast-2",FunctionRegion.ApSouth1="ap-south-1",FunctionRegion.ApSoutheast1="ap-southeast-1",FunctionRegion.ApSoutheast2="ap-southeast-2",FunctionRegion.CaCentral1="ca-central-1",FunctionRegion.EuCentral1="eu-central-1",FunctionRegion.EuWest1="eu-west-1",FunctionRegion.EuWest2="eu-west-2",FunctionRegion.EuWest3="eu-west-3",FunctionRegion.SaEast1="sa-east-1",FunctionRegion.UsEast1="us-east-1",FunctionRegion.UsWest1="us-west-1",FunctionRegion.UsWest2="us-west-2"}(FunctionRegion||(FunctionRegion={}));var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};class FunctionsClient{constructor(url,{headers={},customFetch,region=FunctionRegion.Any}={}){this.url=url,this.headers=headers,this.region=region,this.fetch=(customFetch=>{let _fetch;return _fetch=customFetch||("undefined"==typeof fetch?(...args)=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@supabase+node-fetch@2.6.15/node_modules/@supabase/node-fetch/browser.js")).then((({default:fetch})=>fetch(...args))):fetch),(...args)=>_fetch(...args)})(customFetch)}setAuth(token){this.headers.Authorization=`Bearer ${token}`}invoke(functionName,options={}){var _a;return __awaiter(this,void 0,void 0,(function*(){try{const{headers,method,body:functionArgs}=options;let body,_headers={},{region}=options;region||(region=this.region),region&&"any"!==region&&(_headers["x-region"]=region),functionArgs&&(headers&&!Object.prototype.hasOwnProperty.call(headers,"Content-Type")||!headers)&&("undefined"!=typeof Blob&&functionArgs instanceof Blob||functionArgs instanceof ArrayBuffer?(_headers["Content-Type"]="application/octet-stream",body=functionArgs):"string"==typeof functionArgs?(_headers["Content-Type"]="text/plain",body=functionArgs):"undefined"!=typeof FormData&&functionArgs instanceof FormData?body=functionArgs:(_headers["Content-Type"]="application/json",body=JSON.stringify(functionArgs)));const response=yield this.fetch(`${this.url}/${functionName}`,{method:method||"POST",headers:Object.assign(Object.assign(Object.assign({},_headers),this.headers),headers),body}).catch((fetchError=>{throw new FunctionsFetchError(fetchError)})),isRelayError=response.headers.get("x-relay-error");if(isRelayError&&"true"===isRelayError)throw new FunctionsRelayError(response);if(!response.ok)throw new FunctionsHttpError(response);let data,responseType=(null!==(_a=response.headers.get("Content-Type"))&&void 0!==_a?_a:"text/plain").split(";")[0].trim();return data="application/json"===responseType?yield response.json():"application/octet-stream"===responseType?yield response.blob():"text/event-stream"===responseType?response:"multipart/form-data"===responseType?yield response.formData():yield response.text(),{data,error:null}}catch(error){return{data:null,error}}}))}}var cjs=__webpack_require__("./node_modules/.pnpm/@supabase+postgrest-js@1.19.4/node_modules/@supabase/postgrest-js/dist/cjs/index.js"),cjs_default=__webpack_require__.n(cjs);const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=cjs_default(),DEFAULT_HEADERS={"X-Client-Info":"realtime-js/2.11.2"};var SOCKET_STATES,constants_CHANNEL_STATES,CHANNEL_EVENTS,TRANSPORTS,CONNECTION_STATE;!function(SOCKET_STATES){SOCKET_STATES[SOCKET_STATES.connecting=0]="connecting",SOCKET_STATES[SOCKET_STATES.open=1]="open",SOCKET_STATES[SOCKET_STATES.closing=2]="closing",SOCKET_STATES[SOCKET_STATES.closed=3]="closed"}(SOCKET_STATES||(SOCKET_STATES={})),function(CHANNEL_STATES){CHANNEL_STATES.closed="closed",CHANNEL_STATES.errored="errored",CHANNEL_STATES.joined="joined",CHANNEL_STATES.joining="joining",CHANNEL_STATES.leaving="leaving"}(constants_CHANNEL_STATES||(constants_CHANNEL_STATES={})),function(CHANNEL_EVENTS){CHANNEL_EVENTS.close="phx_close",CHANNEL_EVENTS.error="phx_error",CHANNEL_EVENTS.join="phx_join",CHANNEL_EVENTS.reply="phx_reply",CHANNEL_EVENTS.leave="phx_leave",CHANNEL_EVENTS.access_token="access_token"}(CHANNEL_EVENTS||(CHANNEL_EVENTS={})),function(TRANSPORTS){TRANSPORTS.websocket="websocket"}(TRANSPORTS||(TRANSPORTS={})),function(CONNECTION_STATE){CONNECTION_STATE.Connecting="connecting",CONNECTION_STATE.Open="open",CONNECTION_STATE.Closing="closing",CONNECTION_STATE.Closed="closed"}(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(rawPayload,callback){return rawPayload.constructor===ArrayBuffer?callback(this._binaryDecode(rawPayload)):callback("string"==typeof rawPayload?JSON.parse(rawPayload):{})}_binaryDecode(buffer){const view=new DataView(buffer),decoder=new TextDecoder;return this._decodeBroadcast(buffer,view,decoder)}_decodeBroadcast(buffer,view,decoder){const topicSize=view.getUint8(1),eventSize=view.getUint8(2);let offset=this.HEADER_LENGTH+2;const topic=decoder.decode(buffer.slice(offset,offset+topicSize));offset+=topicSize;const event=decoder.decode(buffer.slice(offset,offset+eventSize));offset+=eventSize;return{ref:null,topic,event,payload:JSON.parse(decoder.decode(buffer.slice(offset,buffer.byteLength)))}}}class Timer{constructor(callback,timerCalc){this.callback=callback,this.timerCalc=timerCalc,this.timer=void 0,this.tries=0,this.callback=callback,this.timerCalc=timerCalc}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}var PostgresTypes,console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");!function(PostgresTypes){PostgresTypes.abstime="abstime",PostgresTypes.bool="bool",PostgresTypes.date="date",PostgresTypes.daterange="daterange",PostgresTypes.float4="float4",PostgresTypes.float8="float8",PostgresTypes.int2="int2",PostgresTypes.int4="int4",PostgresTypes.int4range="int4range",PostgresTypes.int8="int8",PostgresTypes.int8range="int8range",PostgresTypes.json="json",PostgresTypes.jsonb="jsonb",PostgresTypes.money="money",PostgresTypes.numeric="numeric",PostgresTypes.oid="oid",PostgresTypes.reltime="reltime",PostgresTypes.text="text",PostgresTypes.time="time",PostgresTypes.timestamp="timestamp",PostgresTypes.timestamptz="timestamptz",PostgresTypes.timetz="timetz",PostgresTypes.tsrange="tsrange",PostgresTypes.tstzrange="tstzrange"}(PostgresTypes||(PostgresTypes={}));const convertChangeData=(columns,record,options={})=>{var _a;const skipTypes=null!==(_a=options.skipTypes)&&void 0!==_a?_a:[];return Object.keys(record).reduce(((acc,rec_key)=>(acc[rec_key]=convertColumn(rec_key,columns,record,skipTypes),acc)),{})},convertColumn=(columnName,columns,record,skipTypes)=>{const column=columns.find((x=>x.name===columnName)),colType=null==column?void 0:column.type,value=record[columnName];return colType&&!skipTypes.includes(colType)?convertCell(colType,value):noop(value)},convertCell=(type,value)=>{if("_"===type.charAt(0)){const dataType=type.slice(1,type.length);return toArray(value,dataType)}switch(type){case PostgresTypes.bool:return toBoolean(value);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(value);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(value);case PostgresTypes.timestamp:return toTimestampString(value);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:default:return noop(value)}},noop=value=>value,toBoolean=value=>{switch(value){case"t":return!0;case"f":return!1;default:return value}},toNumber=value=>{if("string"==typeof value){const parsedValue=parseFloat(value);if(!Number.isNaN(parsedValue))return parsedValue}return value},toJson=value=>{if("string"==typeof value)try{return JSON.parse(value)}catch(error){return console.log(`JSON parse error: ${error}`),value}return value},toArray=(value,type)=>{if("string"!=typeof value)return value;const lastIdx=value.length-1,closeBrace=value[lastIdx];if("{"===value[0]&&"}"===closeBrace){let arr;const valTrim=value.slice(1,lastIdx);try{arr=JSON.parse("["+valTrim+"]")}catch(_){arr=valTrim?valTrim.split(","):[]}return arr.map((val=>convertCell(type,val)))}return value},toTimestampString=value=>"string"==typeof value?value.replace(" ","T"):value,httpEndpointURL=socketUrl=>{let url=socketUrl;return url=url.replace(/^ws/i,"http"),url=url.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),url.replace(/\/+$/,"")};class Push{constructor(channel,event,payload={},timeout=1e4){this.channel=channel,this.event=event,this.payload=payload,this.timeout=timeout,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(timeout){this.timeout=timeout,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(payload){this.payload=Object.assign(Object.assign({},this.payload),payload)}receive(status,callback){var _a;return this._hasReceived(status)&&callback(null===(_a=this.receivedResp)||void 0===_a?void 0:_a.response),this.recHooks.push({status,callback}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(payload=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=payload,this._matchReceive(payload)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(status,response){this.refEvent&&this.channel._trigger(this.refEvent,{status,response})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status,response}){this.recHooks.filter((h=>h.status===status)).forEach((h=>h.callback(response)))}_hasReceived(status){return this.receivedResp&&this.receivedResp.status===status}}var REALTIME_PRESENCE_LISTEN_EVENTS,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT,REALTIME_LISTEN_TYPES,REALTIME_SUBSCRIBE_STATES;!function(REALTIME_PRESENCE_LISTEN_EVENTS){REALTIME_PRESENCE_LISTEN_EVENTS.SYNC="sync",REALTIME_PRESENCE_LISTEN_EVENTS.JOIN="join",REALTIME_PRESENCE_LISTEN_EVENTS.LEAVE="leave"}(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(channel,opts){this.channel=channel,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const events=(null==opts?void 0:opts.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(events.state,{},(newState=>{const{onJoin,onLeave,onSync}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,newState,onJoin,onLeave),this.pendingDiffs.forEach((diff=>{this.state=RealtimePresence.syncDiff(this.state,diff,onJoin,onLeave)})),this.pendingDiffs=[],onSync()})),this.channel._on(events.diff,{},(diff=>{const{onJoin,onLeave,onSync}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(diff):(this.state=RealtimePresence.syncDiff(this.state,diff,onJoin,onLeave),onSync())})),this.onJoin(((key,currentPresences,newPresences)=>{this.channel._trigger("presence",{event:"join",key,currentPresences,newPresences})})),this.onLeave(((key,currentPresences,leftPresences)=>{this.channel._trigger("presence",{event:"leave",key,currentPresences,leftPresences})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(currentState,newState,onJoin,onLeave){const state=this.cloneDeep(currentState),transformedState=this.transformState(newState),joins={},leaves={};return this.map(state,((key,presences)=>{transformedState[key]||(leaves[key]=presences)})),this.map(transformedState,((key,newPresences)=>{const currentPresences=state[key];if(currentPresences){const newPresenceRefs=newPresences.map((m=>m.presence_ref)),curPresenceRefs=currentPresences.map((m=>m.presence_ref)),joinedPresences=newPresences.filter((m=>curPresenceRefs.indexOf(m.presence_ref)<0)),leftPresences=currentPresences.filter((m=>newPresenceRefs.indexOf(m.presence_ref)<0));joinedPresences.length>0&&(joins[key]=joinedPresences),leftPresences.length>0&&(leaves[key]=leftPresences)}else joins[key]=newPresences})),this.syncDiff(state,{joins,leaves},onJoin,onLeave)}static syncDiff(state,diff,onJoin,onLeave){const{joins,leaves}={joins:this.transformState(diff.joins),leaves:this.transformState(diff.leaves)};return onJoin||(onJoin=()=>{}),onLeave||(onLeave=()=>{}),this.map(joins,((key,newPresences)=>{var _a;const currentPresences=null!==(_a=state[key])&&void 0!==_a?_a:[];if(state[key]=this.cloneDeep(newPresences),currentPresences.length>0){const joinedPresenceRefs=state[key].map((m=>m.presence_ref)),curPresences=currentPresences.filter((m=>joinedPresenceRefs.indexOf(m.presence_ref)<0));state[key].unshift(...curPresences)}onJoin(key,currentPresences,newPresences)})),this.map(leaves,((key,leftPresences)=>{let currentPresences=state[key];if(!currentPresences)return;const presenceRefsToRemove=leftPresences.map((m=>m.presence_ref));currentPresences=currentPresences.filter((m=>presenceRefsToRemove.indexOf(m.presence_ref)<0)),state[key]=currentPresences,onLeave(key,currentPresences,leftPresences),0===currentPresences.length&&delete state[key]})),state}static map(obj,func){return Object.getOwnPropertyNames(obj).map((key=>func(key,obj[key])))}static transformState(state){return state=this.cloneDeep(state),Object.getOwnPropertyNames(state).reduce(((newState,key)=>{const presences=state[key];return newState[key]="metas"in presences?presences.metas.map((presence=>(presence.presence_ref=presence.phx_ref,delete presence.phx_ref,delete presence.phx_ref_prev,presence))):presences,newState}),{})}static cloneDeep(obj){return JSON.parse(JSON.stringify(obj))}onJoin(callback){this.caller.onJoin=callback}onLeave(callback){this.caller.onLeave=callback}onSync(callback){this.caller.onSync=callback}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT){REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.ALL="*",REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.INSERT="INSERT",REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.UPDATE="UPDATE",REALTIME_POSTGRES_CHANGES_LISTEN_EVENT.DELETE="DELETE"}(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={})),function(REALTIME_LISTEN_TYPES){REALTIME_LISTEN_TYPES.BROADCAST="broadcast",REALTIME_LISTEN_TYPES.PRESENCE="presence",REALTIME_LISTEN_TYPES.POSTGRES_CHANGES="postgres_changes",REALTIME_LISTEN_TYPES.SYSTEM="system"}(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={})),function(REALTIME_SUBSCRIBE_STATES){REALTIME_SUBSCRIBE_STATES.SUBSCRIBED="SUBSCRIBED",REALTIME_SUBSCRIBE_STATES.TIMED_OUT="TIMED_OUT",REALTIME_SUBSCRIBE_STATES.CLOSED="CLOSED",REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR="CHANNEL_ERROR"}(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(topic,params={config:{}},socket){this.topic=topic,this.params=params,this.socket=socket,this.bindings={},this.state=constants_CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=topic.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},params.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=constants_CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((pushEvent=>pushEvent.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=constants_CHANNEL_STATES.closed,this.socket._remove(this)})),this._onError((reason=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,reason),this.state=constants_CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=constants_CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())})),this._on(CHANNEL_EVENTS.reply,{},((payload,ref)=>{this._trigger(this._replyEventName(ref),payload)})),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(callback,timeout=this.timeout){var _a,_b;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast,presence,private:isPrivate}}=this.params;this._onError((e=>null==callback?void 0:callback(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,e))),this._onClose((()=>null==callback?void 0:callback(REALTIME_SUBSCRIBE_STATES.CLOSED)));const accessTokenPayload={},config={broadcast,presence,postgres_changes:null!==(_b=null===(_a=this.bindings.postgres_changes)||void 0===_a?void 0:_a.map((r=>r.filter)))&&void 0!==_b?_b:[],private:isPrivate};this.socket.accessTokenValue&&(accessTokenPayload.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config},accessTokenPayload)),this.joinedOnce=!0,this._rejoin(timeout),this.joinPush.receive("ok",(async({postgres_changes})=>{var _a;if(this.socket.setAuth(),void 0!==postgres_changes){const clientPostgresBindings=this.bindings.postgres_changes,bindingsLen=null!==(_a=null==clientPostgresBindings?void 0:clientPostgresBindings.length)&&void 0!==_a?_a:0,newPostgresBindings=[];for(let i=0;i<bindingsLen;i++){const clientPostgresBinding=clientPostgresBindings[i],{filter:{event,schema,table,filter}}=clientPostgresBinding,serverPostgresFilter=postgres_changes&&postgres_changes[i];if(!serverPostgresFilter||serverPostgresFilter.event!==event||serverPostgresFilter.schema!==schema||serverPostgresFilter.table!==table||serverPostgresFilter.filter!==filter)return this.unsubscribe(),void(null==callback||callback(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));newPostgresBindings.push(Object.assign(Object.assign({},clientPostgresBinding),{id:serverPostgresFilter.id}))}return this.bindings.postgres_changes=newPostgresBindings,void(callback&&callback(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED))}null==callback||callback(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED)})).receive("error",(error=>{null==callback||callback(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(error).join(", ")||"error")))})).receive("timeout",(()=>{null==callback||callback(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(payload,opts={}){return await this.send({type:"presence",event:"track",payload},opts.timeout||this.timeout)}async untrack(opts={}){return await this.send({type:"presence",event:"untrack"},opts)}on(type,filter,callback){return this._on(type,filter,callback)}async send(args,opts={}){var _a,_b;if(this._canPush()||"broadcast"!==args.type)return new Promise((resolve=>{var _a,_b,_c;const push=this._push(args.type,args,opts.timeout||this.timeout);"broadcast"!==args.type||(null===(_c=null===(_b=null===(_a=this.params)||void 0===_a?void 0:_a.config)||void 0===_b?void 0:_b.broadcast)||void 0===_c?void 0:_c.ack)||resolve("ok"),push.receive("ok",(()=>resolve("ok"))),push.receive("error",(()=>resolve("error"))),push.receive("timeout",(()=>resolve("timed out")))}));{const{event,payload:endpoint_payload}=args,options={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event,payload:endpoint_payload,private:this.private}]})};try{const response=await this._fetchWithTimeout(this.broadcastEndpointURL,options,null!==(_a=opts.timeout)&&void 0!==_a?_a:this.timeout);return await(null===(_b=response.body)||void 0===_b?void 0:_b.cancel()),response.ok?"ok":"error"}catch(error){return"AbortError"===error.name?"timed out":"error"}}}updateJoinPayload(payload){this.joinPush.updatePayload(payload)}unsubscribe(timeout=this.timeout){this.state=constants_CHANNEL_STATES.leaving;const onClose=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((resolve=>{const leavePush=new Push(this,CHANNEL_EVENTS.leave,{},timeout);leavePush.receive("ok",(()=>{onClose(),resolve("ok")})).receive("timeout",(()=>{onClose(),resolve("timed out")})).receive("error",(()=>{resolve("error")})),leavePush.send(),this._canPush()||leavePush.trigger("ok",{})}))}async _fetchWithTimeout(url,options,timeout){const controller=new AbortController,id=setTimeout((()=>controller.abort()),timeout),response=await this.socket.fetch(url,Object.assign(Object.assign({},options),{signal:controller.signal}));return clearTimeout(id),response}_push(event,payload,timeout=this.timeout){if(!this.joinedOnce)throw`tried to push '${event}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let pushEvent=new Push(this,event,payload,timeout);return this._canPush()?pushEvent.send():(pushEvent.startTimeout(),this.pushBuffer.push(pushEvent)),pushEvent}_onMessage(_event,payload,_ref){return payload}_isMember(topic){return this.topic===topic}_joinRef(){return this.joinPush.ref}_trigger(type,payload,ref){var _a,_b;const typeLower=type.toLocaleLowerCase(),{close,error,leave,join}=CHANNEL_EVENTS;if(ref&&[close,error,leave,join].indexOf(typeLower)>=0&&ref!==this._joinRef())return;let handledPayload=this._onMessage(typeLower,payload,ref);if(payload&&!handledPayload)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(typeLower)?null===(_a=this.bindings.postgres_changes)||void 0===_a||_a.filter((bind=>{var _a,_b,_c;return"*"===(null===(_a=bind.filter)||void 0===_a?void 0:_a.event)||(null===(_c=null===(_b=bind.filter)||void 0===_b?void 0:_b.event)||void 0===_c?void 0:_c.toLocaleLowerCase())===typeLower})).map((bind=>bind.callback(handledPayload,ref))):null===(_b=this.bindings[typeLower])||void 0===_b||_b.filter((bind=>{var _a,_b,_c,_d,_e,_f;if(["broadcast","presence","postgres_changes"].includes(typeLower)){if("id"in bind){const bindId=bind.id,bindEvent=null===(_a=bind.filter)||void 0===_a?void 0:_a.event;return bindId&&(null===(_b=payload.ids)||void 0===_b?void 0:_b.includes(bindId))&&("*"===bindEvent||(null==bindEvent?void 0:bindEvent.toLocaleLowerCase())===(null===(_c=payload.data)||void 0===_c?void 0:_c.type.toLocaleLowerCase()))}{const bindEvent=null===(_e=null===(_d=null==bind?void 0:bind.filter)||void 0===_d?void 0:_d.event)||void 0===_e?void 0:_e.toLocaleLowerCase();return"*"===bindEvent||bindEvent===(null===(_f=null==payload?void 0:payload.event)||void 0===_f?void 0:_f.toLocaleLowerCase())}}return bind.type.toLocaleLowerCase()===typeLower})).map((bind=>{if("object"==typeof handledPayload&&"ids"in handledPayload){const postgresChanges=handledPayload.data,{schema,table,commit_timestamp,type,errors}=postgresChanges,enrichedPayload={schema,table,commit_timestamp,eventType:type,new:{},old:{},errors};handledPayload=Object.assign(Object.assign({},enrichedPayload),this._getPayloadRecords(postgresChanges))}bind.callback(handledPayload,ref)}))}_isClosed(){return this.state===constants_CHANNEL_STATES.closed}_isJoined(){return this.state===constants_CHANNEL_STATES.joined}_isJoining(){return this.state===constants_CHANNEL_STATES.joining}_isLeaving(){return this.state===constants_CHANNEL_STATES.leaving}_replyEventName(ref){return`chan_reply_${ref}`}_on(type,filter,callback){const typeLower=type.toLocaleLowerCase(),binding={type:typeLower,filter,callback};return this.bindings[typeLower]?this.bindings[typeLower].push(binding):this.bindings[typeLower]=[binding],this}_off(type,filter){const typeLower=type.toLocaleLowerCase();return this.bindings[typeLower]=this.bindings[typeLower].filter((bind=>{var _a;return!((null===(_a=bind.type)||void 0===_a?void 0:_a.toLocaleLowerCase())===typeLower&&RealtimeChannel.isEqual(bind.filter,filter))})),this}static isEqual(obj1,obj2){if(Object.keys(obj1).length!==Object.keys(obj2).length)return!1;for(const k in obj1)if(obj1[k]!==obj2[k])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(callback){this._on(CHANNEL_EVENTS.close,{},callback)}_onError(callback){this._on(CHANNEL_EVENTS.error,{},(reason=>callback(reason)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(timeout=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=constants_CHANNEL_STATES.joining,this.joinPush.resend(timeout))}_getPayloadRecords(payload){const records={new:{},old:{}};return"INSERT"!==payload.type&&"UPDATE"!==payload.type||(records.new=convertChangeData(payload.columns,payload.record)),"UPDATE"!==payload.type&&"DELETE"!==payload.type||(records.old=convertChangeData(payload.columns,payload.old_record)),records}}const RealtimeClient_noop=()=>{},NATIVE_WEBSOCKET_AVAILABLE="undefined"!=typeof WebSocket;class RealtimeClient{constructor(endPoint,options){var _a;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=DEFAULT_HEADERS,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=RealtimeClient_noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=customFetch=>{let _fetch;return _fetch=customFetch||("undefined"==typeof fetch?(...args)=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@supabase+node-fetch@2.6.15/node_modules/@supabase/node-fetch/browser.js")).then((({default:fetch})=>fetch(...args))):fetch),(...args)=>_fetch(...args)},this.endPoint=`${endPoint}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(endPoint),(null==options?void 0:options.transport)?this.transport=options.transport:this.transport=null,(null==options?void 0:options.params)&&(this.params=options.params),(null==options?void 0:options.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),options.headers)),(null==options?void 0:options.timeout)&&(this.timeout=options.timeout),(null==options?void 0:options.logger)&&(this.logger=options.logger),(null==options?void 0:options.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=options.heartbeatIntervalMs);const accessTokenValue=null===(_a=null==options?void 0:options.params)||void 0===_a?void 0:_a.apikey;if(accessTokenValue&&(this.accessTokenValue=accessTokenValue,this.apiKey=accessTokenValue),this.reconnectAfterMs=(null==options?void 0:options.reconnectAfterMs)?options.reconnectAfterMs:tries=>[1e3,2e3,5e3,1e4][tries-1]||1e4,this.encode=(null==options?void 0:options.encode)?options.encode:(payload,callback)=>callback(JSON.stringify(payload)),this.decode=(null==options?void 0:options.decode)?options.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==options?void 0:options.fetch),null==options?void 0:options.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==options?void 0:options.worker)||!1,this.workerUrl=null==options?void 0:options.workerUrl}this.accessToken=(null==options?void 0:options.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(NATIVE_WEBSOCKET_AVAILABLE)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new WSWebSocketDummy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),__webpack_require__.e(454).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/.pnpm/ws@8.18.0/node_modules/ws/browser.js",23)).then((({default:WS})=>{this.conn=new WS(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(code,reason){this.conn&&(this.conn.onclose=function(){},code?this.conn.close(code,null!=reason?reason:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(channel){const status=await channel.unsubscribe();return 0===this.channels.length&&this.disconnect(),status}async removeAllChannels(){const values_1=await Promise.all(this.channels.map((channel=>channel.unsubscribe())));return this.disconnect(),values_1}log(kind,msg,data){this.logger(kind,msg,data)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(topic,params={config:{}}){const chan=new RealtimeChannel(`realtime:${topic}`,params,this);return this.channels.push(chan),chan}push(data){const{topic,event,payload,ref}=data,callback=()=>{this.encode(data,(result=>{var _a;null===(_a=this.conn)||void 0===_a||_a.send(result)}))};this.log("push",`${topic} ${event} (${ref})`,payload),this.isConnected()?callback():this.sendBuffer.push(callback)}async setAuth(token=null){let tokenToSend=token||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(tokenToSend){let parsed=null;try{parsed=JSON.parse(atob(tokenToSend.split(".")[1]))}catch(_error){}if(parsed&&parsed.exp){if(!(Math.floor(Date.now()/1e3)-parsed.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${parsed.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${parsed.exp}`)}this.accessTokenValue=tokenToSend,this.channels.forEach((channel=>{tokenToSend&&channel.updateJoinPayload({access_token:tokenToSend}),channel.joinedOnce&&channel._isJoined()&&channel._push(CHANNEL_EVENTS.access_token,{access_token:tokenToSend})}))}}async sendHeartbeat(){var _a;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(_a=this.conn)||void 0===_a||_a.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((callback=>callback())),this.sendBuffer=[])}_makeRef(){let newRef=this.ref+1;return newRef===this.ref?this.ref=0:this.ref=newRef,this.ref.toString()}_leaveOpenTopic(topic){let dupChannel=this.channels.find((c=>c.topic===topic&&(c._isJoined()||c._isJoining())));dupChannel&&(this.log("transport",`leaving duplicate topic "${topic}"`),dupChannel.unsubscribe())}_remove(channel){this.channels=this.channels.filter((c=>c._joinRef()!==channel._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=error=>this._onConnError(error),this.conn.onmessage=event=>this._onConnMessage(event),this.conn.onclose=event=>this._onConnClose(event))}_onConnMessage(rawMessage){this.decode(rawMessage.data,(msg=>{let{topic,event,payload,ref}=msg;ref&&ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${payload.status||""} ${topic} ${event} ${ref&&"("+ref+")"||""}`,payload),this.channels.filter((channel=>channel._isMember(topic))).forEach((channel=>channel._trigger(event,payload,ref))),this.stateChangeCallbacks.message.forEach((callback=>callback(msg)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const objectUrl=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(objectUrl),this.workerRef.onerror=error=>{this.log("worker","worker error",error.message),this.workerRef.terminate()},this.workerRef.onmessage=event=>{"keepAlive"===event.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((callback=>callback()))}_onConnClose(event){this.log("transport","close",event),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((callback=>callback(event)))}_onConnError(error){this.log("transport",error.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((callback=>callback(error)))}_triggerChanError(){this.channels.forEach((channel=>channel._trigger(CHANNEL_EVENTS.error)))}_appendParams(url,params){if(0===Object.keys(params).length)return url;const prefix=url.match(/\?/)?"&":"?";return`${url}${prefix}${new URLSearchParams(params)}`}_workerObjectUrl(url){let result_url;if(url)result_url=url;else{const blob=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});result_url=URL.createObjectURL(blob)}return result_url}}class WSWebSocketDummy{constructor(address,_protocols,options){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=SOCKET_STATES.connecting,this.send=()=>{},this.url=null,this.url=address,this.close=options.close}}class StorageError extends Error{constructor(message){super(message),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(error){return"object"==typeof error&&null!==error&&"__isStorageError"in error}class StorageApiError extends StorageError{constructor(message,status){super(message),this.name="StorageApiError",this.status=status}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor(message,originalError){super(message),this.name="StorageUnknownError",this.originalError=originalError}}var helpers_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const helpers_resolveFetch=customFetch=>{let _fetch;return _fetch=customFetch||("undefined"==typeof fetch?(...args)=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@supabase+node-fetch@2.6.15/node_modules/@supabase/node-fetch/browser.js")).then((({default:fetch})=>fetch(...args))):fetch),(...args)=>_fetch(...args)},recursiveToCamel=item=>{if(Array.isArray(item))return item.map((el=>recursiveToCamel(el)));if("function"==typeof item||item!==Object(item))return item;const result={};return Object.entries(item).forEach((([key,value])=>{const newKey=key.replace(/([-_][a-z])/gi,(c=>c.toUpperCase().replace(/[-_]/g,"")));result[newKey]=recursiveToCamel(value)})),result};var fetch_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const _getErrorMessage=err=>err.msg||err.message||err.error_description||err.error||JSON.stringify(err),handleError=(error,reject,options)=>fetch_awaiter(void 0,void 0,void 0,(function*(){const Res=yield helpers_awaiter(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@supabase+node-fetch@2.6.15/node_modules/@supabase/node-fetch/browser.js"))).Response:Response}));error instanceof Res&&!(null==options?void 0:options.noResolveJson)?error.json().then((err=>{reject(new StorageApiError(_getErrorMessage(err),error.status||500))})).catch((err=>{reject(new StorageUnknownError(_getErrorMessage(err),err))})):reject(new StorageUnknownError(_getErrorMessage(error),error))}));function _handleRequest(fetcher,method,url,options,parameters,body){return fetch_awaiter(this,void 0,void 0,(function*(){return new Promise(((resolve,reject)=>{fetcher(url,((method,options,parameters,body)=>{const params={method,headers:(null==options?void 0:options.headers)||{}};return"GET"===method?params:(params.headers=Object.assign({"Content-Type":"application/json"},null==options?void 0:options.headers),body&&(params.body=JSON.stringify(body)),Object.assign(Object.assign({},params),parameters))})(method,options,parameters,body)).then((result=>{if(!result.ok)throw result;return(null==options?void 0:options.noResolveJson)?result:result.json()})).then((data=>resolve(data))).catch((error=>handleError(error,reject,options)))}))}))}function get(fetcher,url,options,parameters){return fetch_awaiter(this,void 0,void 0,(function*(){return _handleRequest(fetcher,"GET",url,options,parameters)}))}function post(fetcher,url,body,options,parameters){return fetch_awaiter(this,void 0,void 0,(function*(){return _handleRequest(fetcher,"POST",url,options,parameters,body)}))}function remove(fetcher,url,body,options,parameters){return fetch_awaiter(this,void 0,void 0,(function*(){return _handleRequest(fetcher,"DELETE",url,options,parameters,body)}))}var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer,StorageFileApi_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(url,headers={},bucketId,fetch){this.url=url,this.headers=headers,this.bucketId=bucketId,this.fetch=helpers_resolveFetch(fetch)}uploadOrUpdate(method,path,fileBody,fileOptions){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){try{let body;const options=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),fileOptions);let headers=Object.assign(Object.assign({},this.headers),"POST"===method&&{"x-upsert":String(options.upsert)});const metadata=options.metadata;"undefined"!=typeof Blob&&fileBody instanceof Blob?(body=new FormData,body.append("cacheControl",options.cacheControl),metadata&&body.append("metadata",this.encodeMetadata(metadata)),body.append("",fileBody)):"undefined"!=typeof FormData&&fileBody instanceof FormData?(body=fileBody,body.append("cacheControl",options.cacheControl),metadata&&body.append("metadata",this.encodeMetadata(metadata))):(body=fileBody,headers["cache-control"]=`max-age=${options.cacheControl}`,headers["content-type"]=options.contentType,metadata&&(headers["x-metadata"]=this.toBase64(this.encodeMetadata(metadata)))),(null==fileOptions?void 0:fileOptions.headers)&&(headers=Object.assign(Object.assign({},headers),fileOptions.headers));const cleanPath=this._removeEmptyFolders(path),_path=this._getFinalPath(cleanPath),res=yield this.fetch(`${this.url}/object/${_path}`,Object.assign({method,body,headers},(null==options?void 0:options.duplex)?{duplex:options.duplex}:{})),data=yield res.json();if(res.ok)return{data:{path:cleanPath,id:data.Id,fullPath:data.Key},error:null};return{data:null,error:data}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}upload(path,fileBody,fileOptions){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",path,fileBody,fileOptions)}))}uploadToSignedUrl(path,token,fileBody,fileOptions){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){const cleanPath=this._removeEmptyFolders(path),_path=this._getFinalPath(cleanPath),url=new URL(this.url+`/object/upload/sign/${_path}`);url.searchParams.set("token",token);try{let body;const options=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},fileOptions),headers=Object.assign(Object.assign({},this.headers),{"x-upsert":String(options.upsert)});"undefined"!=typeof Blob&&fileBody instanceof Blob?(body=new FormData,body.append("cacheControl",options.cacheControl),body.append("",fileBody)):"undefined"!=typeof FormData&&fileBody instanceof FormData?(body=fileBody,body.append("cacheControl",options.cacheControl)):(body=fileBody,headers["cache-control"]=`max-age=${options.cacheControl}`,headers["content-type"]=options.contentType);const res=yield this.fetch(url.toString(),{method:"PUT",body,headers}),data=yield res.json();if(res.ok)return{data:{path:cleanPath,fullPath:data.Key},error:null};return{data:null,error:data}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}createSignedUploadUrl(path,options){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){try{let _path=this._getFinalPath(path);const headers=Object.assign({},this.headers);(null==options?void 0:options.upsert)&&(headers["x-upsert"]="true");const data=yield post(this.fetch,`${this.url}/object/upload/sign/${_path}`,{},{headers}),url=new URL(this.url+data.url),token=url.searchParams.get("token");if(!token)throw new StorageError("No token returned by API");return{data:{signedUrl:url.toString(),path,token},error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}update(path,fileBody,fileOptions){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",path,fileBody,fileOptions)}))}move(fromPath,toPath,options){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:fromPath,destinationKey:toPath,destinationBucket:null==options?void 0:options.destinationBucket},{headers:this.headers}),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}copy(fromPath,toPath,options){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:fromPath,destinationKey:toPath,destinationBucket:null==options?void 0:options.destinationBucket},{headers:this.headers})).Key},error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}createSignedUrl(path,expiresIn,options){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){try{let _path=this._getFinalPath(path),data=yield post(this.fetch,`${this.url}/object/sign/${_path}`,Object.assign({expiresIn},(null==options?void 0:options.transform)?{transform:options.transform}:{}),{headers:this.headers});const downloadQueryParam=(null==options?void 0:options.download)?`&download=${!0===options.download?"":options.download}`:"";return data={signedUrl:encodeURI(`${this.url}${data.signedURL}${downloadQueryParam}`)},{data,error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}createSignedUrls(paths,expiresIn,options){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){try{const data=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn,paths},{headers:this.headers}),downloadQueryParam=(null==options?void 0:options.download)?`&download=${!0===options.download?"":options.download}`:"";return{data:data.map((datum=>Object.assign(Object.assign({},datum),{signedUrl:datum.signedURL?encodeURI(`${this.url}${datum.signedURL}${downloadQueryParam}`):null}))),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}download(path,options){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){const renderPath=void 0!==(null==options?void 0:options.transform)?"render/image/authenticated":"object",transformationQuery=this.transformOptsToQueryString((null==options?void 0:options.transform)||{}),queryString=transformationQuery?`?${transformationQuery}`:"";try{const _path=this._getFinalPath(path),res=yield get(this.fetch,`${this.url}/${renderPath}/${_path}${queryString}`,{headers:this.headers,noResolveJson:!0});return{data:yield res.blob(),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}info(path){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){const _path=this._getFinalPath(path);try{const data=yield get(this.fetch,`${this.url}/object/info/${_path}`,{headers:this.headers});return{data:recursiveToCamel(data),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}exists(path){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){const _path=this._getFinalPath(path);try{return yield function head(fetcher,url,options,parameters){return fetch_awaiter(this,void 0,void 0,(function*(){return _handleRequest(fetcher,"HEAD",url,Object.assign(Object.assign({},options),{noResolveJson:!0}),parameters)}))}(this.fetch,`${this.url}/object/${_path}`,{headers:this.headers}),{data:!0,error:null}}catch(error){if(isStorageError(error)&&error instanceof StorageUnknownError){const originalError=error.originalError;if([400,404].includes(null==originalError?void 0:originalError.status))return{data:!1,error}}throw error}}))}getPublicUrl(path,options){const _path=this._getFinalPath(path),_queryString=[],downloadQueryParam=(null==options?void 0:options.download)?`download=${!0===options.download?"":options.download}`:"";""!==downloadQueryParam&&_queryString.push(downloadQueryParam);const renderPath=void 0!==(null==options?void 0:options.transform)?"render/image":"object",transformationQuery=this.transformOptsToQueryString((null==options?void 0:options.transform)||{});""!==transformationQuery&&_queryString.push(transformationQuery);let queryString=_queryString.join("&");return""!==queryString&&(queryString=`?${queryString}`),{data:{publicUrl:encodeURI(`${this.url}/${renderPath}/public/${_path}${queryString}`)}}}remove(paths){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:paths},{headers:this.headers}),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}list(path,options,parameters){return StorageFileApi_awaiter(this,void 0,void 0,(function*(){try{const body=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),options),{prefix:path||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,body,{headers:this.headers},parameters),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}encodeMetadata(metadata){return JSON.stringify(metadata)}toBase64(data){return void 0!==Buffer?Buffer.from(data).toString("base64"):btoa(data)}_getFinalPath(path){return`${this.bucketId}/${path}`}_removeEmptyFolders(path){return path.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(transform){const params=[];return transform.width&&params.push(`width=${transform.width}`),transform.height&&params.push(`height=${transform.height}`),transform.resize&&params.push(`resize=${transform.resize}`),transform.format&&params.push(`format=${transform.format}`),transform.quality&&params.push(`quality=${transform.quality}`),params.join("&")}}const constants_DEFAULT_HEADERS={"X-Client-Info":"storage-js/2.7.1"};var StorageBucketApi_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};class StorageBucketApi{constructor(url,headers={},fetch){this.url=url,this.headers=Object.assign(Object.assign({},constants_DEFAULT_HEADERS),headers),this.fetch=helpers_resolveFetch(fetch)}listBuckets(){return StorageBucketApi_awaiter(this,void 0,void 0,(function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}getBucket(id){return StorageBucketApi_awaiter(this,void 0,void 0,(function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${id}`,{headers:this.headers}),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}createBucket(id,options={public:!1}){return StorageBucketApi_awaiter(this,void 0,void 0,(function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id,name:id,public:options.public,file_size_limit:options.fileSizeLimit,allowed_mime_types:options.allowedMimeTypes},{headers:this.headers}),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}updateBucket(id,options){return StorageBucketApi_awaiter(this,void 0,void 0,(function*(){try{const data=yield function put(fetcher,url,body,options,parameters){return fetch_awaiter(this,void 0,void 0,(function*(){return _handleRequest(fetcher,"PUT",url,options,parameters,body)}))}(this.fetch,`${this.url}/bucket/${id}`,{id,name:id,public:options.public,file_size_limit:options.fileSizeLimit,allowed_mime_types:options.allowedMimeTypes},{headers:this.headers});return{data,error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}emptyBucket(id){return StorageBucketApi_awaiter(this,void 0,void 0,(function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${id}/empty`,{},{headers:this.headers}),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}deleteBucket(id){return StorageBucketApi_awaiter(this,void 0,void 0,(function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${id}`,{},{headers:this.headers}),error:null}}catch(error){if(isStorageError(error))return{data:null,error};throw error}}))}}class StorageClient extends StorageBucketApi{constructor(url,headers={},fetch){super(url,headers,fetch)}from(id){return new StorageFileApi(this.url,this.headers,id,this.fetch)}}let JS_ENV="";JS_ENV="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const DEFAULT_GLOBAL_OPTIONS={headers:{"X-Client-Info":`supabase-js-${JS_ENV}/2.49.4`}},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var browser=__webpack_require__("./node_modules/.pnpm/@supabase+node-fetch@2.6.15/node_modules/@supabase/node-fetch/browser.js"),lib_fetch_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const fetch_resolveFetch=customFetch=>{let _fetch;return _fetch=customFetch||("undefined"==typeof fetch?browser.default:fetch),(...args)=>_fetch(...args)},fetchWithAuth=(supabaseKey,getAccessToken,customFetch)=>{const fetch=fetch_resolveFetch(customFetch),HeadersConstructor="undefined"==typeof Headers?browser.Headers:Headers;return(input,init)=>lib_fetch_awaiter(void 0,void 0,void 0,(function*(){var _a;const accessToken=null!==(_a=yield getAccessToken())&&void 0!==_a?_a:supabaseKey;let headers=new HeadersConstructor(null==init?void 0:init.headers);return headers.has("apikey")||headers.set("apikey",supabaseKey),headers.has("Authorization")||headers.set("Authorization",`Bearer ${accessToken}`),fetch(input,Object.assign(Object.assign({},init),{headers}))}))};var lib_helpers_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const module_lib_constants_DEFAULT_HEADERS={"X-Client-Info":"gotrue-js/2.69.1"},API_VERSIONS_2024_01_01={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class AuthError extends Error{constructor(message,status,code){super(message),this.__isAuthError=!0,this.name="AuthError",this.status=status,this.code=code}}function isAuthError(error){return"object"==typeof error&&null!==error&&"__isAuthError"in error}class AuthApiError extends AuthError{constructor(message,status,code){super(message,status,code),this.name="AuthApiError",this.status=status,this.code=code}}class AuthUnknownError extends AuthError{constructor(message,originalError){super(message),this.name="AuthUnknownError",this.originalError=originalError}}class CustomAuthError extends AuthError{constructor(message,name,status,code){super(message,status,code),this.name=name,this.status=status}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(message){super(message,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(message,details=null){super(message,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=details}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(message,details=null){super(message,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=details}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(message,status){super(message,"AuthRetryableFetchError",status,void 0)}}function isAuthRetryableFetchError(error){return isAuthError(error)&&"AuthRetryableFetchError"===error.name}class AuthWeakPasswordError extends CustomAuthError{constructor(message,status,reasons){super(message,"AuthWeakPasswordError",status,"weak_password"),this.reasons=reasons}}class AuthInvalidJwtError extends CustomAuthError{constructor(message){super(message,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=" \t\n\r=".split(""),FROM_BASE64URL=(()=>{const charMap=new Array(128);for(let i=0;i<charMap.length;i+=1)charMap[i]=-1;for(let i=0;i<IGNORE_BASE64URL.length;i+=1)charMap[IGNORE_BASE64URL[i].charCodeAt(0)]=-2;for(let i=0;i<TO_BASE64URL.length;i+=1)charMap[TO_BASE64URL[i].charCodeAt(0)]=i;return charMap})();function byteFromBase64URL(charCode,state,emit){const bits=FROM_BASE64URL[charCode];if(!(bits>-1)){if(-2===bits)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(charCode)}"`)}for(state.queue=state.queue<<6|bits,state.queuedBits+=6;state.queuedBits>=8;)emit(state.queue>>state.queuedBits-8&255),state.queuedBits-=8}function stringFromBase64URL(str){const conv=[],utf8Emit=codepoint=>{conv.push(String.fromCodePoint(codepoint))},utf8State={utf8seq:0,codepoint:0},b64State={queue:0,queuedBits:0},byteEmit=byte=>{!function stringFromUTF8(byte,state,emit){if(0===state.utf8seq){if(byte<=127)return void emit(byte);for(let leadingBit=1;leadingBit<6;leadingBit+=1)if(!(byte>>7-leadingBit&1)){state.utf8seq=leadingBit;break}if(2===state.utf8seq)state.codepoint=31&byte;else if(3===state.utf8seq)state.codepoint=15&byte;else{if(4!==state.utf8seq)throw new Error("Invalid UTF-8 sequence");state.codepoint=7&byte}state.utf8seq-=1}else if(state.utf8seq>0){if(byte<=127)throw new Error("Invalid UTF-8 sequence");state.codepoint=state.codepoint<<6|63&byte,state.utf8seq-=1,0===state.utf8seq&&emit(state.codepoint)}}(byte,utf8State,utf8Emit)};for(let i=0;i<str.length;i+=1)byteFromBase64URL(str.charCodeAt(i),b64State,byteEmit);return conv.join("")}function codepointToUTF8(codepoint,emit){if(!(codepoint<=127)){if(codepoint<=2047)return emit(192|codepoint>>6),void emit(128|63&codepoint);if(codepoint<=65535)return emit(224|codepoint>>12),emit(128|codepoint>>6&63),void emit(128|63&codepoint);if(codepoint<=1114111)return emit(240|codepoint>>18),emit(128|codepoint>>12&63),emit(128|codepoint>>6&63),void emit(128|63&codepoint);throw new Error(`Unrecognized Unicode codepoint: ${codepoint.toString(16)}`)}emit(codepoint)}function stringToUTF8(str,emit){for(let i=0;i<str.length;i+=1){let codepoint=str.charCodeAt(i);if(codepoint>55295&&codepoint<=56319){const highSurrogate=1024*(codepoint-55296)&65535;codepoint=65536+(str.charCodeAt(i+1)-56320&65535|highSurrogate),i+=1}codepointToUTF8(codepoint,emit)}}function base64UrlToUint8Array(str){const result=[],state={queue:0,queuedBits:0},onByte=byte=>{result.push(byte)};for(let i=0;i<str.length;i+=1)byteFromBase64URL(str.charCodeAt(i),state,onByte);return new Uint8Array(result)}var helpers_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const helpers_isBrowser=()=>"undefined"!=typeof window&&"undefined"!=typeof document,localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!helpers_isBrowser())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const randomKey=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(randomKey,randomKey),globalThis.localStorage.removeItem(randomKey),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch(e){localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};const lib_helpers_resolveFetch=customFetch=>{let _fetch;return _fetch=customFetch||("undefined"==typeof fetch?(...args)=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@supabase+node-fetch@2.6.15/node_modules/@supabase/node-fetch/browser.js")).then((({default:fetch})=>fetch(...args))):fetch),(...args)=>_fetch(...args)},setItemAsync=async(storage,key,data)=>{await storage.setItem(key,JSON.stringify(data))},getItemAsync=async(storage,key)=>{const value=await storage.getItem(key);if(!value)return null;try{return JSON.parse(value)}catch(_a){return value}},removeItemAsync=async(storage,key)=>{await storage.removeItem(key)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor(((res,rej)=>{this.resolve=res,this.reject=rej}))}}function decodeJWT(token){const parts=token.split(".");if(3!==parts.length)throw new AuthInvalidJwtError("Invalid JWT structure");for(let i=0;i<parts.length;i++)if(!BASE64URL_REGEX.test(parts[i]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(parts[0])),payload:JSON.parse(stringFromBase64URL(parts[1])),signature:base64UrlToUint8Array(parts[2]),raw:{header:parts[0],payload:parts[1]}}}function dec2hex(dec){return("0"+dec.toString(16)).substr(-2)}async function generatePKCEChallenge(verifier){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return helpers_console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),verifier;const hashed=await async function sha256(randomString){const encodedData=(new TextEncoder).encode(randomString),hash=await crypto.subtle.digest("SHA-256",encodedData),bytes=new Uint8Array(hash);return Array.from(bytes).map((c=>String.fromCharCode(c))).join("")}(verifier);return btoa(hashed).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(storage,storageKey,isPasswordRecovery=!1){const codeVerifier=function generatePKCEVerifier(){const array=new Uint32Array(56);if("undefined"==typeof crypto){const charSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",charSetLen=charSet.length;let verifier="";for(let i=0;i<56;i++)verifier+=charSet.charAt(Math.floor(Math.random()*charSetLen));return verifier}return crypto.getRandomValues(array),Array.from(array,dec2hex).join("")}();let storedCodeVerifier=codeVerifier;isPasswordRecovery&&(storedCodeVerifier+="/PASSWORD_RECOVERY"),await setItemAsync(storage,`${storageKey}-code-verifier`,storedCodeVerifier);const codeChallenge=await generatePKCEChallenge(codeVerifier);return[codeChallenge,codeVerifier===codeChallenge?"plain":"s256"]}Deferred.promiseConstructor=Promise;const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var fetch_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js"),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const fetch_getErrorMessage=err=>err.msg||err.message||err.error_description||err.error||JSON.stringify(err),NETWORK_ERROR_CODES=[502,503,504];async function fetch_handleError(error){var _a,maybeResponse;if(!("object"==typeof(maybeResponse=error)&&null!==maybeResponse&&"status"in maybeResponse&&"ok"in maybeResponse&&"json"in maybeResponse&&"function"==typeof maybeResponse.json))throw new AuthRetryableFetchError(fetch_getErrorMessage(error),0);if(NETWORK_ERROR_CODES.includes(error.status))throw new AuthRetryableFetchError(fetch_getErrorMessage(error),error.status);let data,errorCode;try{data=await error.json()}catch(e){throw new AuthUnknownError(fetch_getErrorMessage(e),e)}const responseAPIVersion=function parseResponseAPIVersion(response){const apiVersion=response.headers.get("X-Supabase-Api-Version");if(!apiVersion)return null;if(!apiVersion.match(API_VERSION_REGEX))return null;try{return new Date(`${apiVersion}T00:00:00.0Z`)}catch(e){return null}}(error);if(responseAPIVersion&&responseAPIVersion.getTime()>=API_VERSIONS_2024_01_01.timestamp&&"object"==typeof data&&data&&"string"==typeof data.code?errorCode=data.code:"object"==typeof data&&data&&"string"==typeof data.error_code&&(errorCode=data.error_code),errorCode){if("weak_password"===errorCode)throw new AuthWeakPasswordError(fetch_getErrorMessage(data),error.status,(null===(_a=data.weak_password)||void 0===_a?void 0:_a.reasons)||[]);if("session_not_found"===errorCode)throw new AuthSessionMissingError}else if("object"==typeof data&&data&&"object"==typeof data.weak_password&&data.weak_password&&Array.isArray(data.weak_password.reasons)&&data.weak_password.reasons.length&&data.weak_password.reasons.reduce(((a,i)=>a&&"string"==typeof i),!0))throw new AuthWeakPasswordError(fetch_getErrorMessage(data),error.status,data.weak_password.reasons);throw new AuthApiError(fetch_getErrorMessage(data),error.status||500,errorCode)}async function _request(fetcher,method,url,options){var _a;const headers=Object.assign({},null==options?void 0:options.headers);headers["X-Supabase-Api-Version"]||(headers["X-Supabase-Api-Version"]=API_VERSIONS_2024_01_01.name),(null==options?void 0:options.jwt)&&(headers.Authorization=`Bearer ${options.jwt}`);const qs=null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{};(null==options?void 0:options.redirectTo)&&(qs.redirect_to=options.redirectTo);const queryString=Object.keys(qs).length?"?"+new URLSearchParams(qs).toString():"",data=await async function fetch_handleRequest(fetcher,method,url,options,parameters,body){const requestParams=((method,options,parameters,body)=>{const params={method,headers:(null==options?void 0:options.headers)||{}};return"GET"===method?params:(params.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==options?void 0:options.headers),params.body=JSON.stringify(body),Object.assign(Object.assign({},params),parameters))})(method,options,parameters,body);let result;try{result=await fetcher(url,Object.assign({},requestParams))}catch(e){throw fetch_console.error(e),new AuthRetryableFetchError(fetch_getErrorMessage(e),0)}result.ok||await fetch_handleError(result);if(null==options?void 0:options.noResolveJson)return result;try{return await result.json()}catch(e){await fetch_handleError(e)}}(fetcher,method,url+queryString,{headers,noResolveJson:null==options?void 0:options.noResolveJson},{},null==options?void 0:options.body);return(null==options?void 0:options.xform)?null==options?void 0:options.xform(data):{data:Object.assign({},data),error:null}}function _sessionResponse(data){var _a;let session=null;(function hasSession(data){return data.access_token&&data.refresh_token&&data.expires_in})(data)&&(session=Object.assign({},data),data.expires_at||(session.expires_at=function expiresAt(expiresIn){return Math.round(Date.now()/1e3)+expiresIn}(data.expires_in)));return{data:{session,user:null!==(_a=data.user)&&void 0!==_a?_a:data},error:null}}function _sessionResponsePassword(data){const response=_sessionResponse(data);return!response.error&&data.weak_password&&"object"==typeof data.weak_password&&Array.isArray(data.weak_password.reasons)&&data.weak_password.reasons.length&&data.weak_password.message&&"string"==typeof data.weak_password.message&&data.weak_password.reasons.reduce(((a,i)=>a&&"string"==typeof i),!0)&&(response.data.weak_password=data.weak_password),response}function _userResponse(data){var _a;return{data:{user:null!==(_a=data.user)&&void 0!==_a?_a:data},error:null}}function _ssoResponse(data){return{data,error:null}}function _generateLinkResponse(data){const{action_link,email_otp,hashed_token,redirect_to,verification_type}=data,rest=__rest(data,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link,email_otp,hashed_token,redirect_to,verification_type},user:Object.assign({},rest)},error:null}}function _noResolveJsonResponse(data){return data}var GoTrueAdminApi_rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class GoTrueAdminApi_GoTrueAdminApi{constructor({url="",headers={},fetch}){this.url=url,this.headers=headers,this.fetch=lib_helpers_resolveFetch(fetch),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(jwt,scope="global"){try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${scope}`,{headers:this.headers,jwt,noResolveJson:!0}),{data:null,error:null}}catch(error){if(isAuthError(error))return{data:null,error};throw error}}async inviteUserByEmail(email,options={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email,data:options.data},headers:this.headers,redirectTo:options.redirectTo,xform:_userResponse})}catch(error){if(isAuthError(error))return{data:{user:null},error};throw error}}async generateLink(params){try{const{options}=params,rest=GoTrueAdminApi_rest(params,["options"]),body=Object.assign(Object.assign({},rest),options);return"newEmail"in rest&&(body.new_email=null==rest?void 0:rest.newEmail,delete body.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body,headers:this.headers,xform:_generateLinkResponse,redirectTo:null==options?void 0:options.redirectTo})}catch(error){if(isAuthError(error))return{data:{properties:null,user:null},error};throw error}}async createUser(attributes){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:attributes,headers:this.headers,xform:_userResponse})}catch(error){if(isAuthError(error))return{data:{user:null},error};throw error}}async listUsers(params){var _a,_b,_c,_d,_e,_f,_g;try{const pagination={nextPage:null,lastPage:0,total:0},response=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(_b=null===(_a=null==params?void 0:params.page)||void 0===_a?void 0:_a.toString())&&void 0!==_b?_b:"",per_page:null!==(_d=null===(_c=null==params?void 0:params.perPage)||void 0===_c?void 0:_c.toString())&&void 0!==_d?_d:""},xform:_noResolveJsonResponse});if(response.error)throw response.error;const users=await response.json(),total=null!==(_e=response.headers.get("x-total-count"))&&void 0!==_e?_e:0,links=null!==(_g=null===(_f=response.headers.get("link"))||void 0===_f?void 0:_f.split(","))&&void 0!==_g?_g:[];return links.length>0&&(links.forEach((link=>{const page=parseInt(link.split(";")[0].split("=")[1].substring(0,1)),rel=JSON.parse(link.split(";")[1].split("=")[1]);pagination[`${rel}Page`]=page})),pagination.total=parseInt(total)),{data:Object.assign(Object.assign({},users),pagination),error:null}}catch(error){if(isAuthError(error))return{data:{users:[]},error};throw error}}async getUserById(uid){try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${uid}`,{headers:this.headers,xform:_userResponse})}catch(error){if(isAuthError(error))return{data:{user:null},error};throw error}}async updateUserById(uid,attributes){try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${uid}`,{body:attributes,headers:this.headers,xform:_userResponse})}catch(error){if(isAuthError(error))return{data:{user:null},error};throw error}}async deleteUser(id,shouldSoftDelete=!1){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${id}`,{headers:this.headers,body:{should_soft_delete:shouldSoftDelete},xform:_userResponse})}catch(error){if(isAuthError(error))return{data:{user:null},error};throw error}}async _listFactors(params){try{const{data,error}=await _request(this.fetch,"GET",`${this.url}/admin/users/${params.userId}/factors`,{headers:this.headers,xform:factors=>({data:{factors},error:null})});return{data,error}}catch(error){if(isAuthError(error))return{data:null,error};throw error}}async _deleteFactor(params){try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${params.userId}/factors/${params.id}`,{headers:this.headers}),error:null}}catch(error){if(isAuthError(error))return{data:null,error};throw error}}}const localStorageAdapter={getItem:key=>supportsLocalStorage()?globalThis.localStorage.getItem(key):null,setItem:(key,value)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(key,value)},removeItem:key=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(key)}};function memoryLocalStorageAdapter(store={}){return{getItem:key=>store[key]||null,setItem:(key,value)=>{store[key]=value},removeItem:key=>{delete store[key]}}}var locks_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const internals_debug=!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class LockAcquireTimeoutError extends Error{constructor(message){super(message),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(name,acquireTimeout,fn){internals_debug&&locks_console.log("@supabase/gotrue-js: navigatorLock: acquire lock",name,acquireTimeout);const abortController=new globalThis.AbortController;return acquireTimeout>0&&setTimeout((()=>{abortController.abort(),internals_debug&&locks_console.log("@supabase/gotrue-js: navigatorLock acquire timed out",name)}),acquireTimeout),await Promise.resolve().then((()=>globalThis.navigator.locks.request(name,0===acquireTimeout?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:abortController.signal},(async lock=>{if(!lock){if(0===acquireTimeout)throw internals_debug&&locks_console.log("@supabase/gotrue-js: navigatorLock: not immediately available",name),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${name}" immediately failed`);if(internals_debug)try{const result=await globalThis.navigator.locks.query();locks_console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(result,null,"  "))}catch(e){locks_console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return locks_console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await fn()}internals_debug&&locks_console.log("@supabase/gotrue-js: navigatorLock: acquired",name,lock.name);try{return await fn()}finally{internals_debug&&locks_console.log("@supabase/gotrue-js: navigatorLock: released",name,lock.name)}}))))}var GoTrueClient_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");!function polyfillGlobalThis(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const DEFAULT_OPTIONS={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:module_lib_constants_DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(name,acquireTimeout,fn){return await fn()}class GoTrueClient{constructor(options){var _a,_b;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=GoTrueClient_console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&helpers_isBrowser()&&GoTrueClient_console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const settings=Object.assign(Object.assign({},DEFAULT_OPTIONS),options);if(this.logDebugMessages=!!settings.debug,"function"==typeof settings.debug&&(this.logger=settings.debug),this.persistSession=settings.persistSession,this.storageKey=settings.storageKey,this.autoRefreshToken=settings.autoRefreshToken,this.admin=new GoTrueAdminApi_GoTrueAdminApi({url:settings.url,headers:settings.headers,fetch:settings.fetch}),this.url=settings.url,this.headers=settings.headers,this.fetch=lib_helpers_resolveFetch(settings.fetch),this.lock=settings.lock||lockNoOp,this.detectSessionInUrl=settings.detectSessionInUrl,this.flowType=settings.flowType,this.hasCustomAuthorizationHeader=settings.hasCustomAuthorizationHeader,settings.lock?this.lock=settings.lock:helpers_isBrowser()&&(null===(_a=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===_a?void 0:_a.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?settings.storage?this.storage=settings.storage:supportsLocalStorage()?this.storage=localStorageAdapter:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),helpers_isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){GoTrueClient_console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(_b=this.broadcastChannel)||void 0===_b||_b.addEventListener("message",(async event=>{this._debug("received broadcast notification from other tab or client",event),await this._notifyAllSubscribers(event.data.event,event.data.session,!1)}))}this.initialize()}_debug(...args){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.69.1) ${(new Date).toISOString()}`,...args),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var _a;try{const params=function parseParametersFromURL(href){const result={},url=new URL(href);if(url.hash&&"#"===url.hash[0])try{new URLSearchParams(url.hash.substring(1)).forEach(((value,key)=>{result[key]=value}))}catch(e){}return url.searchParams.forEach(((value,key)=>{result[key]=value})),result}(window.location.href);let callbackUrlType="none";if(this._isImplicitGrantCallback(params)?callbackUrlType="implicit":await this._isPKCECallback(params)&&(callbackUrlType="pkce"),helpers_isBrowser()&&this.detectSessionInUrl&&"none"!==callbackUrlType){const{data,error}=await this._getSessionFromURL(params,callbackUrlType);if(error){if(this._debug("#_initialize()","error detecting session from URL",error),function isAuthImplicitGrantRedirectError(error){return isAuthError(error)&&"AuthImplicitGrantRedirectError"===error.name}(error)){const errorCode=null===(_a=error.details)||void 0===_a?void 0:_a.code;if("identity_already_exists"===errorCode||"identity_not_found"===errorCode||"single_identity_not_deletable"===errorCode)return{error}}return await this._removeSession(),{error}}const{session,redirectType}=data;return this._debug("#_initialize()","detected session in URL",session,"redirect type",redirectType),await this._saveSession(session),setTimeout((async()=>{"recovery"===redirectType?await this._notifyAllSubscribers("PASSWORD_RECOVERY",session):await this._notifyAllSubscribers("SIGNED_IN",session)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(error){return isAuthError(error)?{error}:{error:new AuthUnknownError("Unexpected error during initialization",error)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(credentials){var _a,_b,_c;try{const res=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(_b=null===(_a=null==credentials?void 0:credentials.options)||void 0===_a?void 0:_a.data)&&void 0!==_b?_b:{},gotrue_meta_security:{captcha_token:null===(_c=null==credentials?void 0:credentials.options)||void 0===_c?void 0:_c.captchaToken}},xform:_sessionResponse}),{data,error}=res;if(error||!data)return{data:{user:null,session:null},error};const session=data.session,user=data.user;return data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",session)),{data:{user,session},error:null}}catch(error){if(isAuthError(error))return{data:{user:null,session:null},error};throw error}}async signUp(credentials){var _a,_b,_c;try{let res;if("email"in credentials){const{email,password,options}=credentials;let codeChallenge=null,codeChallengeMethod=null;"pkce"===this.flowType&&([codeChallenge,codeChallengeMethod]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),res=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==options?void 0:options.emailRedirectTo,body:{email,password,data:null!==(_a=null==options?void 0:options.data)&&void 0!==_a?_a:{},gotrue_meta_security:{captcha_token:null==options?void 0:options.captchaToken},code_challenge:codeChallenge,code_challenge_method:codeChallengeMethod},xform:_sessionResponse})}else{if(!("phone"in credentials))throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");{const{phone,password,options}=credentials;res=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone,password,data:null!==(_b=null==options?void 0:options.data)&&void 0!==_b?_b:{},channel:null!==(_c=null==options?void 0:options.channel)&&void 0!==_c?_c:"sms",gotrue_meta_security:{captcha_token:null==options?void 0:options.captchaToken}},xform:_sessionResponse})}}const{data,error}=res;if(error||!data)return{data:{user:null,session:null},error};const session=data.session,user=data.user;return data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",session)),{data:{user,session},error:null}}catch(error){if(isAuthError(error))return{data:{user:null,session:null},error};throw error}}async signInWithPassword(credentials){try{let res;if("email"in credentials){const{email,password,options}=credentials;res=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email,password,gotrue_meta_security:{captcha_token:null==options?void 0:options.captchaToken}},xform:_sessionResponsePassword})}else{if(!("phone"in credentials))throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");{const{phone,password,options}=credentials;res=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone,password,gotrue_meta_security:{captcha_token:null==options?void 0:options.captchaToken}},xform:_sessionResponsePassword})}}const{data,error}=res;return error?{data:{user:null,session:null},error}:data&&data.session&&data.user?(data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",data.session)),{data:Object.assign({user:data.user,session:data.session},data.weak_password?{weakPassword:data.weak_password}:null),error}):{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}}catch(error){if(isAuthError(error))return{data:{user:null,session:null},error};throw error}}async signInWithOAuth(credentials){var _a,_b,_c,_d;return await this._handleProviderSignIn(credentials.provider,{redirectTo:null===(_a=credentials.options)||void 0===_a?void 0:_a.redirectTo,scopes:null===(_b=credentials.options)||void 0===_b?void 0:_b.scopes,queryParams:null===(_c=credentials.options)||void 0===_c?void 0:_c.queryParams,skipBrowserRedirect:null===(_d=credentials.options)||void 0===_d?void 0:_d.skipBrowserRedirect})}async exchangeCodeForSession(authCode){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(authCode)))}async _exchangeCodeForSession(authCode){const storageItem=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[codeVerifier,redirectType]=(null!=storageItem?storageItem:"").split("/");try{const{data,error}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:authCode,code_verifier:codeVerifier},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),error)throw error;return data&&data.session&&data.user?(data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",data.session)),{data:Object.assign(Object.assign({},data),{redirectType:null!=redirectType?redirectType:null}),error}):{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}}catch(error){if(isAuthError(error))return{data:{user:null,session:null,redirectType:null},error};throw error}}async signInWithIdToken(credentials){try{const{options,provider,token,access_token,nonce}=credentials,res=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider,id_token:token,access_token,nonce,gotrue_meta_security:{captcha_token:null==options?void 0:options.captchaToken}},xform:_sessionResponse}),{data,error}=res;return error?{data:{user:null,session:null},error}:data&&data.session&&data.user?(data.session&&(await this._saveSession(data.session),await this._notifyAllSubscribers("SIGNED_IN",data.session)),{data,error}):{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}}catch(error){if(isAuthError(error))return{data:{user:null,session:null},error};throw error}}async signInWithOtp(credentials){var _a,_b,_c,_d,_e;try{if("email"in credentials){const{email,options}=credentials;let codeChallenge=null,codeChallengeMethod=null;"pkce"===this.flowType&&([codeChallenge,codeChallengeMethod]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email,data:null!==(_a=null==options?void 0:options.data)&&void 0!==_a?_a:{},create_user:null===(_b=null==options?void 0:options.shouldCreateUser)||void 0===_b||_b,gotrue_meta_security:{captcha_token:null==options?void 0:options.captchaToken},code_challenge:codeChallenge,code_challenge_method:codeChallengeMethod},redirectTo:null==options?void 0:options.emailRedirectTo});return{data:{user:null,session:null},error}}if("phone"in credentials){const{phone,options}=credentials,{data,error}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone,data:null!==(_c=null==options?void 0:options.data)&&void 0!==_c?_c:{},create_user:null===(_d=null==options?void 0:options.shouldCreateUser)||void 0===_d||_d,gotrue_meta_security:{captcha_token:null==options?void 0:options.captchaToken},channel:null!==(_e=null==options?void 0:options.channel)&&void 0!==_e?_e:"sms"}});return{data:{user:null,session:null,messageId:null==data?void 0:data.message_id},error}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(error){if(isAuthError(error))return{data:{user:null,session:null},error};throw error}}async verifyOtp(params){var _a,_b;try{let redirectTo,captchaToken;"options"in params&&(redirectTo=null===(_a=params.options)||void 0===_a?void 0:_a.redirectTo,captchaToken=null===(_b=params.options)||void 0===_b?void 0:_b.captchaToken);const{data,error}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},params),{gotrue_meta_security:{captcha_token:captchaToken}}),redirectTo,xform:_sessionResponse});if(error)throw error;if(!data)throw new Error("An error occurred on token verification.");const session=data.session,user=data.user;return(null==session?void 0:session.access_token)&&(await this._saveSession(session),await this._notifyAllSubscribers("recovery"==params.type?"PASSWORD_RECOVERY":"SIGNED_IN",session)),{data:{user,session},error:null}}catch(error){if(isAuthError(error))return{data:{user:null,session:null},error};throw error}}async signInWithSSO(params){var _a,_b,_c;try{let codeChallenge=null,codeChallengeMethod=null;return"pkce"===this.flowType&&([codeChallenge,codeChallengeMethod]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in params?{provider_id:params.providerId}:null),"domain"in params?{domain:params.domain}:null),{redirect_to:null!==(_b=null===(_a=params.options)||void 0===_a?void 0:_a.redirectTo)&&void 0!==_b?_b:void 0}),(null===(_c=null==params?void 0:params.options)||void 0===_c?void 0:_c.captchaToken)?{gotrue_meta_security:{captcha_token:params.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:codeChallenge,code_challenge_method:codeChallengeMethod}),headers:this.headers,xform:_ssoResponse})}catch(error){if(isAuthError(error))return{data:null,error};throw error}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async result=>{const{data:{session},error:sessionError}=result;if(sessionError)throw sessionError;if(!session)throw new AuthSessionMissingError;const{error}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:session.access_token});return{data:{user:null,session:null},error}}))}catch(error){if(isAuthError(error))return{data:{user:null,session:null},error};throw error}}async resend(credentials){try{const endpoint=`${this.url}/resend`;if("email"in credentials){const{email,type,options}=credentials,{error}=await _request(this.fetch,"POST",endpoint,{headers:this.headers,body:{email,type,gotrue_meta_security:{captcha_token:null==options?void 0:options.captchaToken}},redirectTo:null==options?void 0:options.emailRedirectTo});return{data:{user:null,session:null},error}}if("phone"in credentials){const{phone,type,options}=credentials,{data,error}=await _request(this.fetch,"POST",endpoint,{headers:this.headers,body:{phone,type,gotrue_meta_security:{captcha_token:null==options?void 0:options.captchaToken}}});return{data:{user:null,session:null,messageId:null==data?void 0:data.message_id},error}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(error){if(isAuthError(error))return{data:{user:null,session:null},error};throw error}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async result=>result))))}async _acquireLock(acquireTimeout,fn){this._debug("#_acquireLock","begin",acquireTimeout);try{if(this.lockAcquired){const last=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),result=(async()=>(await last,await fn()))();return this.pendingInLock.push((async()=>{try{await result}catch(e){}})()),result}return await this.lock(`lock:${this.storageKey}`,acquireTimeout,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const result=fn();for(this.pendingInLock.push((async()=>{try{await result}catch(e){}})()),await result;this.pendingInLock.length;){const waitOn=[...this.pendingInLock];await Promise.all(waitOn),this.pendingInLock.splice(0,waitOn.length)}return await result}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(fn){this._debug("#_useSession","begin");try{const result=await this.__loadSession();return await fn(result)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let currentSession=null;const maybeSession=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",maybeSession),null!==maybeSession&&(this._isValidSession(maybeSession)?currentSession=maybeSession:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!currentSession)return{data:{session:null},error:null};const hasExpired=!!currentSession.expires_at&&1e3*currentSession.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${hasExpired?"":" not"} expired`,"expires_at",currentSession.expires_at),!hasExpired){if(this.storage.isServer){let suppressWarning=this.suppressGetSessionWarning;currentSession=new Proxy(currentSession,{get:(target,prop,receiver)=>(suppressWarning||"user"!==prop||(GoTrueClient_console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),suppressWarning=!0,this.suppressGetSessionWarning=!0),Reflect.get(target,prop,receiver))})}return{data:{session:currentSession},error:null}}const{session,error}=await this._callRefreshToken(currentSession.refresh_token);return error?{data:{session:null},error}:{data:{session},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(jwt){if(jwt)return await this._getUser(jwt);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(jwt){try{return jwt?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt,xform:_userResponse}):await this._useSession((async result=>{var _a,_b,_c;const{data,error}=result;if(error)throw error;return(null===(_a=data.session)||void 0===_a?void 0:_a.access_token)||this.hasCustomAuthorizationHeader?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(_c=null===(_b=data.session)||void 0===_b?void 0:_b.access_token)&&void 0!==_c?_c:void 0,xform:_userResponse}):{data:{user:null},error:new AuthSessionMissingError}}))}catch(error){if(isAuthError(error))return function isAuthSessionMissingError(error){return isAuthError(error)&&"AuthSessionMissingError"===error.name}(error)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error};throw error}}async updateUser(attributes,options={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(attributes,options)))}async _updateUser(attributes,options={}){try{return await this._useSession((async result=>{const{data:sessionData,error:sessionError}=result;if(sessionError)throw sessionError;if(!sessionData.session)throw new AuthSessionMissingError;const session=sessionData.session;let codeChallenge=null,codeChallengeMethod=null;"pkce"===this.flowType&&null!=attributes.email&&([codeChallenge,codeChallengeMethod]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data,error:userError}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==options?void 0:options.emailRedirectTo,body:Object.assign(Object.assign({},attributes),{code_challenge:codeChallenge,code_challenge_method:codeChallengeMethod}),jwt:session.access_token,xform:_userResponse});if(userError)throw userError;return session.user=data.user,await this._saveSession(session),await this._notifyAllSubscribers("USER_UPDATED",session),{data:{user:session.user},error:null}}))}catch(error){if(isAuthError(error))return{data:{user:null},error};throw error}}async setSession(currentSession){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(currentSession)))}async _setSession(currentSession){try{if(!currentSession.access_token||!currentSession.refresh_token)throw new AuthSessionMissingError;const timeNow=Date.now()/1e3;let expiresAt=timeNow,hasExpired=!0,session=null;const{payload}=decodeJWT(currentSession.access_token);if(payload.exp&&(expiresAt=payload.exp,hasExpired=expiresAt<=timeNow),hasExpired){const{session:refreshedSession,error}=await this._callRefreshToken(currentSession.refresh_token);if(error)return{data:{user:null,session:null},error};if(!refreshedSession)return{data:{user:null,session:null},error:null};session=refreshedSession}else{const{data,error}=await this._getUser(currentSession.access_token);if(error)throw error;session={access_token:currentSession.access_token,refresh_token:currentSession.refresh_token,user:data.user,token_type:"bearer",expires_in:expiresAt-timeNow,expires_at:expiresAt},await this._saveSession(session),await this._notifyAllSubscribers("SIGNED_IN",session)}return{data:{user:session.user,session},error:null}}catch(error){if(isAuthError(error))return{data:{session:null,user:null},error};throw error}}async refreshSession(currentSession){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(currentSession)))}async _refreshSession(currentSession){try{return await this._useSession((async result=>{var _a;if(!currentSession){const{data,error}=result;if(error)throw error;currentSession=null!==(_a=data.session)&&void 0!==_a?_a:void 0}if(!(null==currentSession?void 0:currentSession.refresh_token))throw new AuthSessionMissingError;const{session,error}=await this._callRefreshToken(currentSession.refresh_token);return error?{data:{user:null,session:null},error}:session?{data:{user:session.user,session},error:null}:{data:{user:null,session:null},error:null}}))}catch(error){if(isAuthError(error))return{data:{user:null,session:null},error};throw error}}async _getSessionFromURL(params,callbackUrlType){try{if(!helpers_isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(params.error||params.error_description||params.error_code)throw new AuthImplicitGrantRedirectError(params.error_description||"Error in URL with unspecified error_description",{error:params.error||"unspecified_error",code:params.error_code||"unspecified_code"});switch(callbackUrlType){case"implicit":if("pkce"===this.flowType)throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.")}if("pkce"===callbackUrlType){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!params.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data,error}=await this._exchangeCodeForSession(params.code);if(error)throw error;const url=new URL(window.location.href);return url.searchParams.delete("code"),window.history.replaceState(window.history.state,"",url.toString()),{data:{session:data.session,redirectType:null},error:null}}const{provider_token,provider_refresh_token,access_token,refresh_token,expires_in,expires_at,token_type}=params;if(!(access_token&&expires_in&&refresh_token&&token_type))throw new AuthImplicitGrantRedirectError("No session defined in URL");const timeNow=Math.round(Date.now()/1e3),expiresIn=parseInt(expires_in);let expiresAt=timeNow+expiresIn;expires_at&&(expiresAt=parseInt(expires_at));const actuallyExpiresIn=expiresAt-timeNow;1e3*actuallyExpiresIn<=3e4&&GoTrueClient_console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${actuallyExpiresIn}s, should have been closer to ${expiresIn}s`);const issuedAt=expiresAt-expiresIn;timeNow-issuedAt>=120?GoTrueClient_console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",issuedAt,expiresAt,timeNow):timeNow-issuedAt<0&&GoTrueClient_console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",issuedAt,expiresAt,timeNow);const{data,error}=await this._getUser(access_token);if(error)throw error;const session={provider_token,provider_refresh_token,access_token,expires_in:expiresIn,expires_at:expiresAt,refresh_token,token_type,user:data.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session,redirectType:params.type},error:null}}catch(error){if(isAuthError(error))return{data:{session:null,redirectType:null},error};throw error}}_isImplicitGrantCallback(params){return Boolean(params.access_token||params.error_description)}async _isPKCECallback(params){const currentStorageContent=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!(!params.code||!currentStorageContent)}async signOut(options={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(options)))}async _signOut({scope}={scope:"global"}){return await this._useSession((async result=>{var _a;const{data,error:sessionError}=result;if(sessionError)return{error:sessionError};const accessToken=null===(_a=data.session)||void 0===_a?void 0:_a.access_token;if(accessToken){const{error}=await this.admin.signOut(accessToken,scope);if(error&&(!function isAuthApiError(error){return isAuthError(error)&&"AuthApiError"===error.name}(error)||404!==error.status&&401!==error.status&&403!==error.status))return{error}}return"others"!==scope&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(callback){const id=function helpers_uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){const r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)}))}(),subscription={id,callback,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",id),this.stateChangeEmitters.delete(id)}};return this._debug("#onAuthStateChange()","registered callback with id",id),this.stateChangeEmitters.set(id,subscription),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(id)}))})(),{data:{subscription}}}async _emitInitialSession(id){return await this._useSession((async result=>{var _a,_b;try{const{data:{session},error}=result;if(error)throw error;await(null===(_a=this.stateChangeEmitters.get(id))||void 0===_a?void 0:_a.callback("INITIAL_SESSION",session)),this._debug("INITIAL_SESSION","callback id",id,"session",session)}catch(err){await(null===(_b=this.stateChangeEmitters.get(id))||void 0===_b?void 0:_b.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",id,"error",err),GoTrueClient_console.error(err)}}))}async resetPasswordForEmail(email,options={}){let codeChallenge=null,codeChallengeMethod=null;"pkce"===this.flowType&&([codeChallenge,codeChallengeMethod]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email,code_challenge:codeChallenge,code_challenge_method:codeChallengeMethod,gotrue_meta_security:{captcha_token:options.captchaToken}},headers:this.headers,redirectTo:options.redirectTo})}catch(error){if(isAuthError(error))return{data:null,error};throw error}}async getUserIdentities(){var _a;try{const{data,error}=await this.getUser();if(error)throw error;return{data:{identities:null!==(_a=data.user.identities)&&void 0!==_a?_a:[]},error:null}}catch(error){if(isAuthError(error))return{data:null,error};throw error}}async linkIdentity(credentials){var _a;try{const{data,error}=await this._useSession((async result=>{var _a,_b,_c,_d,_e;const{data,error}=result;if(error)throw error;const url=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,credentials.provider,{redirectTo:null===(_a=credentials.options)||void 0===_a?void 0:_a.redirectTo,scopes:null===(_b=credentials.options)||void 0===_b?void 0:_b.scopes,queryParams:null===(_c=credentials.options)||void 0===_c?void 0:_c.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",url,{headers:this.headers,jwt:null!==(_e=null===(_d=data.session)||void 0===_d?void 0:_d.access_token)&&void 0!==_e?_e:void 0})}));if(error)throw error;return helpers_isBrowser()&&!(null===(_a=credentials.options)||void 0===_a?void 0:_a.skipBrowserRedirect)&&window.location.assign(null==data?void 0:data.url),{data:{provider:credentials.provider,url:null==data?void 0:data.url},error:null}}catch(error){if(isAuthError(error))return{data:{provider:credentials.provider,url:null},error};throw error}}async unlinkIdentity(identity){try{return await this._useSession((async result=>{var _a,_b;const{data,error}=result;if(error)throw error;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${identity.identity_id}`,{headers:this.headers,jwt:null!==(_b=null===(_a=data.session)||void 0===_a?void 0:_a.access_token)&&void 0!==_b?_b:void 0})}))}catch(error){if(isAuthError(error))return{data:null,error};throw error}}async _refreshAccessToken(refreshToken){const debugName=`#_refreshAccessToken(${refreshToken.substring(0,5)}...)`;this._debug(debugName,"begin");try{const startedAt=Date.now();return await function retryable(fn,isRetryable){return new Promise(((accept,reject)=>{(async()=>{for(let attempt=0;attempt<1/0;attempt++)try{const result=await fn(attempt);if(!isRetryable(attempt,null,result))return void accept(result)}catch(e){if(!isRetryable(attempt,e))return void reject(e)}})()}))}((async attempt=>(attempt>0&&await async function sleep(time){return await new Promise((accept=>{setTimeout((()=>accept(null)),time)}))}(200*Math.pow(2,attempt-1)),this._debug(debugName,"refreshing attempt",attempt),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:refreshToken},headers:this.headers,xform:_sessionResponse}))),((attempt,error)=>{const nextBackOffInterval=200*Math.pow(2,attempt);return error&&isAuthRetryableFetchError(error)&&Date.now()+nextBackOffInterval-startedAt<3e4}))}catch(error){if(this._debug(debugName,"error",error),isAuthError(error))return{data:{session:null,user:null},error};throw error}finally{this._debug(debugName,"end")}}_isValidSession(maybeSession){return"object"==typeof maybeSession&&null!==maybeSession&&"access_token"in maybeSession&&"refresh_token"in maybeSession&&"expires_at"in maybeSession}async _handleProviderSignIn(provider,options){const url=await this._getUrlForProvider(`${this.url}/authorize`,provider,{redirectTo:options.redirectTo,scopes:options.scopes,queryParams:options.queryParams});return this._debug("#_handleProviderSignIn()","provider",provider,"options",options,"url",url),helpers_isBrowser()&&!options.skipBrowserRedirect&&window.location.assign(url),{data:{provider,url},error:null}}async _recoverAndRefresh(){var _a;const debugName="#_recoverAndRefresh()";this._debug(debugName,"begin");try{const currentSession=await getItemAsync(this.storage,this.storageKey);if(this._debug(debugName,"session from storage",currentSession),!this._isValidSession(currentSession))return this._debug(debugName,"session is not valid"),void(null!==currentSession&&await this._removeSession());const expiresWithMargin=1e3*(null!==(_a=currentSession.expires_at)&&void 0!==_a?_a:1/0)-Date.now()<9e4;if(this._debug(debugName,`session has${expiresWithMargin?"":" not"} expired with margin of 90000s`),expiresWithMargin){if(this.autoRefreshToken&&currentSession.refresh_token){const{error}=await this._callRefreshToken(currentSession.refresh_token);error&&(GoTrueClient_console.error(error),isAuthRetryableFetchError(error)||(this._debug(debugName,"refresh failed with a non-retryable error, removing the session",error),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",currentSession)}catch(err){return this._debug(debugName,"error",err),void GoTrueClient_console.error(err)}finally{this._debug(debugName,"end")}}async _callRefreshToken(refreshToken){var _a,_b;if(!refreshToken)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const debugName=`#_callRefreshToken(${refreshToken.substring(0,5)}...)`;this._debug(debugName,"begin");try{this.refreshingDeferred=new Deferred;const{data,error}=await this._refreshAccessToken(refreshToken);if(error)throw error;if(!data.session)throw new AuthSessionMissingError;await this._saveSession(data.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",data.session);const result={session:data.session,error:null};return this.refreshingDeferred.resolve(result),result}catch(error){if(this._debug(debugName,"error",error),isAuthError(error)){const result={session:null,error};return isAuthRetryableFetchError(error)||await this._removeSession(),null===(_a=this.refreshingDeferred)||void 0===_a||_a.resolve(result),result}throw null===(_b=this.refreshingDeferred)||void 0===_b||_b.reject(error),error}finally{this.refreshingDeferred=null,this._debug(debugName,"end")}}async _notifyAllSubscribers(event,session,broadcast=!0){const debugName=`#_notifyAllSubscribers(${event})`;this._debug(debugName,"begin",session,`broadcast = ${broadcast}`);try{this.broadcastChannel&&broadcast&&this.broadcastChannel.postMessage({event,session});const errors=[],promises=Array.from(this.stateChangeEmitters.values()).map((async x=>{try{await x.callback(event,session)}catch(e){errors.push(e)}}));if(await Promise.all(promises),errors.length>0){for(let i=0;i<errors.length;i+=1)GoTrueClient_console.error(errors[i]);throw errors[0]}}finally{this._debug(debugName,"end")}}async _saveSession(session){this._debug("#_saveSession()",session),this.suppressGetSessionWarning=!0,await setItemAsync(this.storage,this.storageKey,session)}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const callback=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{callback&&helpers_isBrowser()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",callback)}catch(e){GoTrueClient_console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const ticker=setInterval((()=>this._autoRefreshTokenTick()),3e4);this.autoRefreshTicker=ticker,ticker&&"object"==typeof ticker&&"function"==typeof ticker.unref?ticker.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(ticker),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const ticker=this.autoRefreshTicker;this.autoRefreshTicker=null,ticker&&clearInterval(ticker)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const now=Date.now();try{return await this._useSession((async result=>{const{data:{session}}=result;if(!session||!session.refresh_token||!session.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const expiresInTicks=Math.floor((1e3*session.expires_at-now)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${expiresInTicks} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),expiresInTicks<=3&&await this._callRefreshToken(session.refresh_token)}))}catch(e){GoTrueClient_console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof LockAcquireTimeoutError))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!helpers_isBrowser()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(error){GoTrueClient_console.error("_handleVisibilityChange",error)}}async _onVisibilityChanged(calledFromInitialize){const methodName=`#_onVisibilityChanged(${calledFromInitialize})`;this._debug(methodName,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),calledFromInitialize||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(methodName,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(url,provider,options){const urlParams=[`provider=${encodeURIComponent(provider)}`];if((null==options?void 0:options.redirectTo)&&urlParams.push(`redirect_to=${encodeURIComponent(options.redirectTo)}`),(null==options?void 0:options.scopes)&&urlParams.push(`scopes=${encodeURIComponent(options.scopes)}`),"pkce"===this.flowType){const[codeChallenge,codeChallengeMethod]=await getCodeChallengeAndMethod(this.storage,this.storageKey),flowParams=new URLSearchParams({code_challenge:`${encodeURIComponent(codeChallenge)}`,code_challenge_method:`${encodeURIComponent(codeChallengeMethod)}`});urlParams.push(flowParams.toString())}if(null==options?void 0:options.queryParams){const query=new URLSearchParams(options.queryParams);urlParams.push(query.toString())}return(null==options?void 0:options.skipBrowserRedirect)&&urlParams.push(`skip_http_redirect=${options.skipBrowserRedirect}`),`${url}?${urlParams.join("&")}`}async _unenroll(params){try{return await this._useSession((async result=>{var _a;const{data:sessionData,error:sessionError}=result;return sessionError?{data:null,error:sessionError}:await _request(this.fetch,"DELETE",`${this.url}/factors/${params.factorId}`,{headers:this.headers,jwt:null===(_a=null==sessionData?void 0:sessionData.session)||void 0===_a?void 0:_a.access_token})}))}catch(error){if(isAuthError(error))return{data:null,error};throw error}}async _enroll(params){try{return await this._useSession((async result=>{var _a,_b;const{data:sessionData,error:sessionError}=result;if(sessionError)return{data:null,error:sessionError};const body=Object.assign({friendly_name:params.friendlyName,factor_type:params.factorType},"phone"===params.factorType?{phone:params.phone}:{issuer:params.issuer}),{data,error}=await _request(this.fetch,"POST",`${this.url}/factors`,{body,headers:this.headers,jwt:null===(_a=null==sessionData?void 0:sessionData.session)||void 0===_a?void 0:_a.access_token});return error?{data:null,error}:("totp"===params.factorType&&(null===(_b=null==data?void 0:data.totp)||void 0===_b?void 0:_b.qr_code)&&(data.totp.qr_code=`data:image/svg+xml;utf-8,${data.totp.qr_code}`),{data,error:null})}))}catch(error){if(isAuthError(error))return{data:null,error};throw error}}async _verify(params){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async result=>{var _a;const{data:sessionData,error:sessionError}=result;if(sessionError)return{data:null,error:sessionError};const{data,error}=await _request(this.fetch,"POST",`${this.url}/factors/${params.factorId}/verify`,{body:{code:params.code,challenge_id:params.challengeId},headers:this.headers,jwt:null===(_a=null==sessionData?void 0:sessionData.session)||void 0===_a?void 0:_a.access_token});return error?{data:null,error}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+data.expires_in},data)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",data),{data,error})}))}catch(error){if(isAuthError(error))return{data:null,error};throw error}}))}async _challenge(params){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async result=>{var _a;const{data:sessionData,error:sessionError}=result;return sessionError?{data:null,error:sessionError}:await _request(this.fetch,"POST",`${this.url}/factors/${params.factorId}/challenge`,{body:{channel:params.channel},headers:this.headers,jwt:null===(_a=null==sessionData?void 0:sessionData.session)||void 0===_a?void 0:_a.access_token})}))}catch(error){if(isAuthError(error))return{data:null,error};throw error}}))}async _challengeAndVerify(params){const{data:challengeData,error:challengeError}=await this._challenge({factorId:params.factorId});return challengeError?{data:null,error:challengeError}:await this._verify({factorId:params.factorId,challengeId:challengeData.id,code:params.code})}async _listFactors(){const{data:{user},error:userError}=await this.getUser();if(userError)return{data:null,error:userError};const factors=(null==user?void 0:user.factors)||[],totp=factors.filter((factor=>"totp"===factor.factor_type&&"verified"===factor.status)),phone=factors.filter((factor=>"phone"===factor.factor_type&&"verified"===factor.status));return{data:{all:factors,totp,phone},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async result=>{var _a,_b;const{data:{session},error:sessionError}=result;if(sessionError)return{data:null,error:sessionError};if(!session)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload}=decodeJWT(session.access_token);let currentLevel=null;payload.aal&&(currentLevel=payload.aal);let nextLevel=currentLevel;(null!==(_b=null===(_a=session.user.factors)||void 0===_a?void 0:_a.filter((factor=>"verified"===factor.status)))&&void 0!==_b?_b:[]).length>0&&(nextLevel="aal2");return{data:{currentLevel,nextLevel,currentAuthenticationMethods:payload.amr||[]},error:null}}))))}async fetchJwk(kid,jwks={keys:[]}){let jwk=jwks.keys.find((key=>key.kid===kid));if(jwk)return jwk;if(jwk=this.jwks.keys.find((key=>key.kid===kid)),jwk&&this.jwks_cached_at+6e5>Date.now())return jwk;const{data,error}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(error)throw error;if(!data.keys||0===data.keys.length)throw new AuthInvalidJwtError("JWKS is empty");if(this.jwks=data,this.jwks_cached_at=Date.now(),jwk=data.keys.find((key=>key.kid===kid)),!jwk)throw new AuthInvalidJwtError("No matching signing key found in JWKS");return jwk}async getClaims(jwt,jwks={keys:[]}){try{let token=jwt;if(!token){const{data,error}=await this.getSession();if(error||!data.session)return{data:null,error};token=data.session.access_token}const{header,payload,signature,raw:{header:rawHeader,payload:rawPayload}}=decodeJWT(token);if(function validateExp(exp){if(!exp)throw new Error("Missing exp claim");if(exp<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(payload.exp),!header.kid||"HS256"===header.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error}=await this.getUser(token);if(error)throw error;return{data:{claims:payload,header,signature},error:null}}const algorithm=function getAlgorithm(alg){switch(alg){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(header.alg),signingKey=await this.fetchJwk(header.kid,jwks),publicKey=await crypto.subtle.importKey("jwk",signingKey,algorithm,!0,["verify"]);if(!await crypto.subtle.verify(algorithm,publicKey,signature,function stringToUint8Array(str){const result=[];return stringToUTF8(str,(byte=>result.push(byte))),new Uint8Array(result)}(`${rawHeader}.${rawPayload}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:payload,header,signature},error:null}}catch(error){if(isAuthError(error))return{data:null,error};throw error}}}GoTrueClient.nextInstanceID=0;const module_AuthClient=GoTrueClient;class SupabaseAuthClient extends module_AuthClient{constructor(options){super(options)}}var SupabaseClient_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};class SupabaseClient{constructor(supabaseUrl,supabaseKey,options){var _a,_b,_c;if(this.supabaseUrl=supabaseUrl,this.supabaseKey=supabaseKey,!supabaseUrl)throw new Error("supabaseUrl is required.");if(!supabaseKey)throw new Error("supabaseKey is required.");const _supabaseUrl=function stripTrailingSlash(url){return url.replace(/\/$/,"")}(supabaseUrl);this.realtimeUrl=`${_supabaseUrl}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${_supabaseUrl}/auth/v1`,this.storageUrl=`${_supabaseUrl}/storage/v1`,this.functionsUrl=`${_supabaseUrl}/functions/v1`;const defaultStorageKey=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,settings=function applySettingDefaults(options,defaults){const{db:dbOptions,auth:authOptions,realtime:realtimeOptions,global:globalOptions}=options,{db:DEFAULT_DB_OPTIONS,auth:DEFAULT_AUTH_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,global:DEFAULT_GLOBAL_OPTIONS}=defaults,result={db:Object.assign(Object.assign({},DEFAULT_DB_OPTIONS),dbOptions),auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),authOptions),realtime:Object.assign(Object.assign({},DEFAULT_REALTIME_OPTIONS),realtimeOptions),global:Object.assign(Object.assign({},DEFAULT_GLOBAL_OPTIONS),globalOptions),accessToken:()=>lib_helpers_awaiter(this,void 0,void 0,(function*(){return""}))};return options.accessToken?result.accessToken=options.accessToken:delete result.accessToken,result}(null!=options?options:{},{db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:defaultStorageKey}),global:DEFAULT_GLOBAL_OPTIONS});this.storageKey=null!==(_a=settings.auth.storageKey)&&void 0!==_a?_a:"",this.headers=null!==(_b=settings.global.headers)&&void 0!==_b?_b:{},settings.accessToken?(this.accessToken=settings.accessToken,this.auth=new Proxy({},{get:(_,prop)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(prop)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(_c=settings.auth)&&void 0!==_c?_c:{},this.headers,settings.global.fetch),this.fetch=fetchWithAuth(supabaseKey,this._getAccessToken.bind(this),settings.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},settings.realtime)),this.rest=new PostgrestClient(`${_supabaseUrl}/rest/v1`,{headers:this.headers,schema:settings.db.schema,fetch:this.fetch}),settings.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}from(relation){return this.rest.from(relation)}schema(schema){return this.rest.schema(schema)}rpc(fn,args={},options={}){return this.rest.rpc(fn,args,options)}channel(name,opts={config:{}}){return this.realtime.channel(name,opts)}getChannels(){return this.realtime.getChannels()}removeChannel(channel){return this.realtime.removeChannel(channel)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var _a,_b;return SupabaseClient_awaiter(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data}=yield this.auth.getSession();return null!==(_b=null===(_a=data.session)||void 0===_a?void 0:_a.access_token)&&void 0!==_b?_b:null}))}_initSupabaseAuthClient({autoRefreshToken,persistSession,detectSessionInUrl,storage,storageKey,flowType,lock,debug},headers,fetch){const authHeaders={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},authHeaders),headers),storageKey,autoRefreshToken,persistSession,detectSessionInUrl,storage,flowType,lock,debug,fetch,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(options){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},options),{params:Object.assign({apikey:this.supabaseKey},null==options?void 0:options.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((event,session)=>{this._handleTokenChanged(event,"CLIENT",null==session?void 0:session.access_token)}))}_handleTokenChanged(event,source,token){"TOKEN_REFRESHED"!==event&&"SIGNED_IN"!==event||this.changedAccessToken===token?"SIGNED_OUT"===event&&(this.realtime.setAuth(),"STORAGE"==source&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=token}}const createClient=(supabaseUrl,supabaseKey,options)=>new SupabaseClient(supabaseUrl,supabaseKey,options)},"./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/get-domain-locale.js":(module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getDomainLocale",{enumerable:!0,get:function(){return getDomainLocale}});const _normalizetrailingslash=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/normalize-trailing-slash.js"),basePath=process.env.__NEXT_ROUTER_BASEPATH||"";function getDomainLocale(path,locale,locales,domainLocales){if(process.env.__NEXT_I18N_SUPPORT){const normalizeLocalePath=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/normalize-locale-path.js").normalizeLocalePath,detectDomainLocale=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/detect-domain-locale.js").detectDomainLocale,target=locale||normalizeLocalePath(path,locales).detectedLocale,domain=detectDomainLocale(domainLocales,void 0,target);if(domain){const proto="http"+(domain.http?"":"s")+"://",finalLocale=target===domain.defaultLocale?"":"/"+target;return""+proto+domain.domain+(0,_normalizetrailingslash.normalizePathTrailingSlash)(""+basePath+finalLocale+path)}return!1}return!1}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/link.js":(module,exports,__webpack_require__)=>{var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _default}});const _interop_require_default=__webpack_require__("./node_modules/.pnpm/@swc+helpers@0.5.15/node_modules/@swc/helpers/cjs/_interop_require_default.cjs"),_jsxruntime=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_react=_interop_require_default._(__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js")),_resolvehref=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/resolve-href.js"),_islocalurl=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/shared/lib/router/utils/is-local-url.js"),_formaturl=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/shared/lib/router/utils/format-url.js"),_utils=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/shared/lib/utils.js"),_addlocale=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/add-locale.js"),_routercontextsharedruntime=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/shared/lib/router-context.shared-runtime.js"),_useintersection=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/use-intersection.js"),_getdomainlocale=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/get-domain-locale.js"),_addbasepath=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/add-base-path.js"),_usemergedref=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/use-merged-ref.js"),prefetched=new Set;function prefetch(router,href,as,options){if("undefined"!=typeof window&&(0,_islocalurl.isLocalURL)(href)){if(!options.bypassPrefetchedCheck){const prefetchedKey=href+"%"+as+"%"+(void 0!==options.locale?options.locale:"locale"in router?router.locale:void 0);if(prefetched.has(prefetchedKey))return;prefetched.add(prefetchedKey)}router.prefetch(href,as,options).catch((err=>{0}))}}function formatStringOrUrl(urlObjOrString){return"string"==typeof urlObjOrString?urlObjOrString:(0,_formaturl.formatUrl)(urlObjOrString)}const _default=_react.default.forwardRef((function LinkComponent(props,forwardedRef){let children;const{href:hrefProp,as:asProp,children:childrenProp,prefetch:prefetchProp=null,passHref,replace,shallow,scroll,locale,onClick,onMouseEnter:onMouseEnterProp,onTouchStart:onTouchStartProp,legacyBehavior=!1,...restProps}=props;children=childrenProp,!legacyBehavior||"string"!=typeof children&&"number"!=typeof children||(children=(0,_jsxruntime.jsx)("a",{children}));const router=_react.default.useContext(_routercontextsharedruntime.RouterContext),prefetchEnabled=!1!==prefetchProp;const{href,as}=_react.default.useMemo((()=>{if(!router){const resolvedHref=formatStringOrUrl(hrefProp);return{href:resolvedHref,as:asProp?formatStringOrUrl(asProp):resolvedHref}}const[resolvedHref,resolvedAs]=(0,_resolvehref.resolveHref)(router,hrefProp,!0);return{href:resolvedHref,as:asProp?(0,_resolvehref.resolveHref)(router,asProp):resolvedAs||resolvedHref}}),[router,hrefProp,asProp]),previousHref=_react.default.useRef(href),previousAs=_react.default.useRef(as);let child;legacyBehavior&&(child=_react.default.Children.only(children));const childRef=legacyBehavior?child&&"object"==typeof child&&child.ref:forwardedRef,[setIntersectionRef,isVisible,resetVisible]=(0,_useintersection.useIntersection)({rootMargin:"200px"}),setIntersectionWithResetRef=_react.default.useCallback((el=>{previousAs.current===as&&previousHref.current===href||(resetVisible(),previousAs.current=as,previousHref.current=href),setIntersectionRef(el)}),[as,href,resetVisible,setIntersectionRef]),setRef=(0,_usemergedref.useMergedRef)(setIntersectionWithResetRef,childRef);_react.default.useEffect((()=>{router&&isVisible&&prefetchEnabled&&prefetch(router,href,as,{locale})}),[as,href,isVisible,locale,prefetchEnabled,null==router?void 0:router.locale,router]);const childProps={ref:setRef,onClick(e){legacyBehavior||"function"!=typeof onClick||onClick(e),legacyBehavior&&child.props&&"function"==typeof child.props.onClick&&child.props.onClick(e),router&&(e.defaultPrevented||function linkClicked(e,router,href,as,replace,shallow,scroll,locale){const{nodeName}=e.currentTarget;if("A"===nodeName.toUpperCase()&&(function isModifiedEvent(event){const target=event.currentTarget.getAttribute("target");return target&&"_self"!==target||event.metaKey||event.ctrlKey||event.shiftKey||event.altKey||event.nativeEvent&&2===event.nativeEvent.which}(e)||!(0,_islocalurl.isLocalURL)(href)))return;e.preventDefault(),(()=>{const routerScroll=null==scroll||scroll;"beforePopState"in router?router[replace?"replace":"push"](href,as,{shallow,locale,scroll:routerScroll}):router[replace?"replace":"push"](as||href,{scroll:routerScroll})})()}(e,router,href,as,replace,shallow,scroll,locale))},onMouseEnter(e){legacyBehavior||"function"!=typeof onMouseEnterProp||onMouseEnterProp(e),legacyBehavior&&child.props&&"function"==typeof child.props.onMouseEnter&&child.props.onMouseEnter(e),router&&prefetch(router,href,as,{locale,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:process.env.__NEXT_LINK_NO_TOUCH_START?void 0:function onTouchStart(e){legacyBehavior||"function"!=typeof onTouchStartProp||onTouchStartProp(e),legacyBehavior&&child.props&&"function"==typeof child.props.onTouchStart&&child.props.onTouchStart(e),router&&prefetch(router,href,as,{locale,priority:!0,bypassPrefetchedCheck:!0})}};if((0,_utils.isAbsoluteUrl)(as))childProps.href=as;else if(!legacyBehavior||passHref||"a"===child.type&&!("href"in child.props)){const curLocale=void 0!==locale?locale:null==router?void 0:router.locale,localeDomain=(null==router?void 0:router.isLocaleDomain)&&(0,_getdomainlocale.getDomainLocale)(as,curLocale,null==router?void 0:router.locales,null==router?void 0:router.domainLocales);childProps.href=localeDomain||(0,_addbasepath.addBasePath)((0,_addlocale.addLocale)(as,curLocale,null==router?void 0:router.defaultLocale))}return legacyBehavior?_react.default.cloneElement(child,childProps):(0,_jsxruntime.jsx)("a",{...restProps,...childProps,children})}));("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/normalize-locale-path.js":(module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"normalizeLocalePath",{enumerable:!0,get:function(){return normalizeLocalePath}});const normalizeLocalePath=(pathname,locales)=>process.env.__NEXT_I18N_SUPPORT?__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/shared/lib/i18n/normalize-locale-path.js").normalizeLocalePath(pathname,locales):{pathname,detectedLocale:void 0};("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/use-intersection.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"useIntersection",{enumerable:!0,get:function(){return useIntersection}});const _react=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js"),_requestidlecallback=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/request-idle-callback.js"),hasIntersectionObserver="function"==typeof IntersectionObserver,observers=new Map,idList=[];function observe(element,callback,options){const{id,observer,elements}=function createObserver(options){const id={root:options.root||null,margin:options.rootMargin||""},existing=idList.find((obj=>obj.root===id.root&&obj.margin===id.margin));let instance;if(existing&&(instance=observers.get(existing),instance))return instance;const elements=new Map,observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{const callback=elements.get(entry.target),isVisible=entry.isIntersecting||entry.intersectionRatio>0;callback&&isVisible&&callback(isVisible)}))}),options);return instance={id,observer,elements},idList.push(id),observers.set(id,instance),instance}(options);return elements.set(element,callback),observer.observe(element),function unobserve(){if(elements.delete(element),observer.unobserve(element),0===elements.size){observer.disconnect(),observers.delete(id);const index=idList.findIndex((obj=>obj.root===id.root&&obj.margin===id.margin));index>-1&&idList.splice(index,1)}}}function useIntersection(param){let{rootRef,rootMargin,disabled}=param;const isDisabled=disabled||!hasIntersectionObserver,[visible,setVisible]=(0,_react.useState)(!1),elementRef=(0,_react.useRef)(null),setElement=(0,_react.useCallback)((element=>{elementRef.current=element}),[]);(0,_react.useEffect)((()=>{if(hasIntersectionObserver){if(isDisabled||visible)return;const element=elementRef.current;if(element&&element.tagName){return observe(element,(isVisible=>isVisible&&setVisible(isVisible)),{root:null==rootRef?void 0:rootRef.current,rootMargin})}}else if(!visible){const idleCallback=(0,_requestidlecallback.requestIdleCallback)((()=>setVisible(!0)));return()=>(0,_requestidlecallback.cancelIdleCallback)(idleCallback)}}),[isDisabled,rootMargin,rootRef,visible,elementRef.current]);const resetVisible=(0,_react.useCallback)((()=>{setVisible(!1)}),[]);return[setElement,visible,resetVisible]}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/use-merged-ref.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"useMergedRef",{enumerable:!0,get:function(){return useMergedRef}});const _react=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/compiled/react/index.js");function useMergedRef(refA,refB){const cleanupA=(0,_react.useRef)((()=>{})),cleanupB=(0,_react.useRef)((()=>{}));return(0,_react.useMemo)((()=>refA&&refB?current=>{null===current?(cleanupA.current(),cleanupB.current()):(cleanupA.current=applyRef(refA,current),cleanupB.current=applyRef(refB,current))}:refA||refB),[refA,refB])}function applyRef(refA,current){if("function"==typeof refA){const cleanup=refA(current);return"function"==typeof cleanup?cleanup:()=>refA(null)}return refA.current=current,()=>{refA.current=null}}("function"==typeof exports.default||"object"==typeof exports.default&&null!==exports.default)&&void 0===exports.default.__esModule&&(Object.defineProperty(exports.default,"__esModule",{value:!0}),Object.assign(exports.default,exports),module.exports=exports.default)},"./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/link.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.27.1_@playwright+test@1.52.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/link.js")}}]);